{"version":3,"sources":["components/layout/GradientBackground.js","components/layout/GraphicsCanvas.js","components/controller/Dial.js","components/controller/Controller.js","components/util/InitializationConstants.js","components/layout/ControllerALayout.js","components/layout/PianoLayout.js","components/layout/ControllerBLayout.js","components/layout/BottomDrawer.js","components/layout/ControllerDrawer.js","components/layout/SplashScreen.js","components/layout/NoteInfo.js","components/layout/MainLayout.js","components/util/Util.js","components/audio/AudioContext.js","components/audio/AudioPatch.js","components/audio/Arpeggiator.js","components/layout/AudioCanvas.js","components/graphics/PrimeMover.js","components/graphics/SecondaryMoverSystem.js","components/graphics/GraphicsContext.js","App.js","serviceWorker.js","index.js","styles/layout/Drawer.module.css","styles/layout/MainLayout.module.css","styles/layout/GradientBackground.module.css","styles/ProcessingSketch.module.css"],"names":["GradientBackground","console","log","className","styles","gradientBackground","Component","GraphicsCanvas","props","canvasRef","useRef","useEffect","graphicsContext","initialize","current","sketch","ref","Dial","state","dial","dialRef","React","createRef","this","model","minValue","maxValue","defaultValue","step","parameter","setState","PrecisionInputs","FLStandardKnob","min","max","initial","color","addEventListener","event","changeCallback","snackbarCallback","target","value","memo","sliders","style","width","overflow","Grid","container","justify","alignItems","spacing","map","slider","key","sliderModel","id","item","xs","sliderCallback","sliderLabel","initializationConstants","SliderModel","sliderModels","Map","set","globalController","useMemo","get","audioContext","setVolume","setPan","setVariance","envelopeController","setAttack","setDecay","setSustain","setRelease","useState","index","setIndex","indexChangeCallback","useCallback","relativeBox","sliderContainer","enableMouseEvents","resistance","onChangeIndex","sliderPagination","count","keysActivated","setKeysActivated","keySelectHandler","prevState","sortedKeysArray","includes","filter","i","sort","a","b","keySelectionCallback","type","k","onClick","arpeggiatorController","setArpeggiatorSpeed","setArpeggiatorOctaves","auxEffectsController","setDelayTime","setDelayFeedback","setDelayMix","setReverbMix","pianoKeySelectCallback","keysArray","setArpeggiatorSemitones","animateHeight","horizontalSliderTheme","createMuiTheme","overrides","MuiSlider","thumb","track","bottomDrawerSwitches","FormControl","FormGroup","FormControlLabel","control","Switch","defaultChecked","onChange","setDisplayAnimation","checked","label","labelPlacement","setDisplayWaveform","toggleNoteInfoCallback","Divider","variant","bottomDrawerSliderSection","bottomDrawerSliderAndLabelGroup","Typography","gutterBottom","ThemeProvider","theme","Slider","aria-labelledby","valueLabelDisplay","marks","onChangeCommitted","_","setCurrentOctave","setAnimationSpeed","textDeclaration","href","SwipeableDrawer","onClose","toggleSliderDrawer","onOpen","open","isSliderControllerOpen","swipeAreaWidth","anchor","keepMounted","sliderDrawer","Container","maxWidth","drawerHandleTop","toggleBottomDrawer","isBottomDrawerOpen","bottomDrawer","drawerHandleBottom","SplashScreen","splashScreen","splashScreenButton","htmlColor","fontSize","startAudioContext","notesInfo","note","dangerouslySetInnerHTML","__html","notesInfoSection","MainLayout","setSliderControllerOpen","setBottomDrawerOpen","isSnackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","isAppLoaded","setAppLoaded","shouldDisplayInfo","setDisplayInfo","start","isOpen","message","Snackbar","snackbarLayout","autoHideDuration","anchorOrigin","vertical","horizontal","topDrawerExpanderCue","bottomDrawerExpanderCue","rangeMap","x1","y1","x2","y2","convertXToNoteNumber","x","currentOctave","Math","floor","window","innerWidth","AudioContext","handleGenericTriggerEvent","coordinates","instrument","triggerAttack","handleGenericReleaseEvent","triggerRelease","volume","pan","variance","attack","decay","sustain","release","delayTime","delayFeedback","delayMix","reverbMix","arpeggiatorSpeed","arpeggiatorOctaves","arpeggiatorSemitones","then","patch","Gain","Panner","tone","Filter","frequency","lfo","LFO","delay","PingPongDelay","maxDelayTime","reverb","Reverb","mainChannel","Channel","reverbChannel","delayChannel","synth","connect","send","receive","finalOutputNode","Destination","gain","setEnvelope","feedback","mix","wet","speed","setPlaybackRate","octaves","setOctaves","semitonesArray","Patch","envelope","Arpeggiator","numberOfOctaves","playbackRate","semitones","Synth","oscillator","pattern","Pattern","interval","Transport","notes","Array","round","keys","concat","y","velocity","innerHeight","callback","time","triggerAttackRelease","undefined","midiNoteNumber","values","Midi","toFrequency","stop","array","env","AudioCanvas","updateWindowDimensions","height","handleGenericPressEvent","handleGenericReleasedEvent","isTouchActivated","removeEventListener","position","left","top","onMouseDown","clientX","clientY","onMouseUp","onTouchStart","targetTouches","length","onTouchEnd","PrimeMover","p5","previousMover","properties","location","createVector","animationSpeed","connectionThreshold","add","isOutOfCanvas","destroyCallback","display","drawConnection","noStroke","fill","primeMoverColor","size","ellipse","prevX","prevY","abs","stroke","noFill","strokeWeight","diffX","diffY","random","bezier","SecondaryMoverSystem","secondaryMovers","destructionInitiated","intervalId","setInterval","moverId","uuid","SecondaryMover","secondaryMoverColor","mover","deleteMover","Number","parseInt","forEach","update","delete","clearInterval","deleteCallback","initialSpeed","alpha","red","green","blue","GraphicsContext","p","setup","createCanvas","windowWidth","windowHeight","draw","clear","shouldDisplayAnimation","primeMovers","primeMover","secondaryMoverSystems","system","windowResized","resizeCanvas","touchStarted","mousePressed","touchEnded","mouseReleased","coordinate","primaryMoverId","myP5","previousPrimeMover","moverProperties","registerDestructionCallback","handlePrimeMoverDestruction","secondaryMoverSystemId","secondaryMoverSystem","handleSecondaryMoverSystemDestruction","initiateDestruction","shouldDisplayWaveform","domReference","App","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","module","exports"],"mappings":"8SAYeA,E,uKANX,OADAC,QAAQC,IAAI,sBAEV,yBAAKC,UAAWC,IAAOC,yB,GAJIC,a,iBCiBlBC,EAjBQ,SAACC,GAEtB,IAAMC,EAAYC,iBAAO,MAMzB,OAJAC,qBACE,kBAAMH,EAAMI,gBAAgBC,WAAWJ,EAAUK,WACjD,CAACN,EAAMI,kBAGP,oCACGX,QAAQC,IAAI,2BACb,yBAAKC,UAAWC,IAAOW,OAAQC,IAAKP,M,8ECuC3BQ,G,yDA/Cb,WAAYT,GAAQ,IAAD,8BACjB,cAAMA,IACDU,MAAQ,CACXC,KAAM,MAER,EAAKC,QAAUC,IAAMC,YALJ,E,gEAQE,IAAD,SAC0CC,KAAKf,MAAMgB,MAAhEC,EADW,EACXA,SAAUC,EADC,EACDA,SAAUC,EADT,EACSA,aAAcC,EADvB,EACuBA,KAAMC,EAD7B,EAC6BA,UAC/CN,KAAKO,SAAS,CACZX,KAAM,IAAIY,IAAgBC,eAAeT,KAAKH,QAAQN,QAAS,CAC7DmB,IAAKR,EACLS,IAAKR,EACLS,QAASR,EACTC,KAAMA,EACNQ,MAAO,cAER,WACD,EAAKlB,MAAMC,KAAKkB,iBAAiB,UAAU,SAACC,GAC1C,EAAK9B,MAAM+B,eAAeD,GAC1B,EAAK9B,MAAMgC,iBAAX,UAA+BX,EAA/B,cAA8CS,EAAMG,OAAOC,gB,+BAO/D,OADAzC,QAAQC,IAAR,yBAA8BqB,KAAKf,MAAMgB,MAAMK,YAE7C,yBAAKb,IAAKO,KAAKH,QAASjB,UAAU,0B,GA9BrBG,c,0BCuCJe,MAAMsB,MAtCF,SAACnC,GAClB,IAIOgC,EAA6BhC,EAA7BgC,iBAAkBI,EAAWpC,EAAXoC,QACzB,OACE,yBAAKC,MANO,CACZC,MAAO,OACPC,SAAU,WAKR,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAASC,WAAW,SAASC,QAAS,GAC3DR,EAAQS,KAAI,SAAAC,GAAM,OACjB,kBAACN,EAAA,EAAD,CAAMO,IAAKD,EAAOE,YAAYC,GAAIC,MAAI,EAACC,GAAI,GACzC,kBAAC,EAAD,CAAMnC,MAAO8B,EAAOE,YACdjB,eAAgB,SAAAD,GAAK,OAAIgB,EAAOM,eAAetB,EAAMG,OAAOC,QAC5DF,iBAAkBA,SAI9B,kBAACQ,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAASC,WAAW,SAASC,QAAS,GAC3DR,EAAQS,KAAI,SAAAC,GAAM,OACjB,kBAACN,EAAA,EAAD,CAAM7C,UAAWC,IAAOyD,YAAaN,IAAKD,EAAOE,YAAYC,GAAIC,MAAI,EAACC,GAAI,GACvEL,EAAOE,YAAY3B,mBC1BnBiC,EACK,EADLA,EAEM,UAFNA,EAGU,UAHVA,EAKK,EALLA,GAOO,EAPPA,GAQM,EARNA,GASG,EATHA,EAUW,CAAC,EAAE,EAAE,EAAE,IAGzBC,EACJ,WAAYN,EAAI5B,EAAWF,EAAcF,EAAUC,EAAUE,GAAO,oBAClEL,KAAKkC,GAAKA,EACVlC,KAAKM,UAAYA,EACjBN,KAAKI,aAAeA,EACpBJ,KAAKE,SAAWA,EAChBF,KAAKG,SAAWA,EAChBH,KAAKK,KAAOA,GAIHoC,EAAe,IAAIC,IAChCD,EAAaE,IAAI,gBAAiB,IAAIH,EACpC,gBACA,SACA,GACA,EACA,EACA,MAEFC,EAAaE,IAAI,aAAc,IAAIH,EACjC,aACA,MACA,GACC,EACD,EACA,MAEFC,EAAaE,IAAI,kBAAmB,IAAIH,EACpC,kBACA,WACA,EACA,EACA,EACA,MAEJC,EAAaE,IAAI,gBAAiB,IAAIH,EACpC,gBACA,SACA,GACA,IACA,EACA,MAEFC,EAAaE,IAAI,eAAgB,IAAIH,EACnC,eACA,QACA,GACA,IACA,EACA,MAEFC,EAAaE,IAAI,iBAAkB,IAAIH,EACrC,iBACA,UACA,GACA,IACA,EACA,MAEFC,EAAaE,IAAI,iBAAkB,IAAIH,EACrC,iBACA,UACA,EACA,IACA,EACA,MAEFC,EAAaE,IAAI,mBAAoB,IAAIH,EACvC,mBACA,WACA,EACA,EACA,GACA,MAEFC,EAAaE,IAAI,mBAAoB,IAAIH,EACvC,mBACA,WACA,EACA,EACA,EACA,MAEFC,EAAaE,IAAI,sBAAuB,IAAIH,EAC1C,sBACA,cACA,EACA,EACA,EACA,MAEFC,EAAaE,IAAI,oBAAqB,IAAIH,EACxC,oBACA,aACA,EACA,EACA,EACA,MAEFC,EAAaE,IAAI,wBAAyB,IAAIH,EAC5C,wBACA,WACA,GACA,EACA,IACA,MAEFC,EAAaE,IAAI,mBAAoB,IAAIH,EACvC,mBACA,YACA,IACA,EACA,EACA,MAEFC,EAAaE,IAAI,oBAAqB,IAAIH,EACxC,oBACA,aACA,GACA,EACA,EACA,MAEFC,EAAaE,IAAI,2BAA4B,IAAIH,EAC/C,2BACA,QACA,KACA,GACA,EACA,MAEFC,EAAaE,IAAI,4BAA6B,IAAIH,EAChD,4BACA,UACA,EACA,EACA,EACA,I,qBCjFa1C,MAAMsB,MA7DK,SAACnC,GACzB,IAAM2D,EAAmBC,mBAAQ,WAC/B,MAAO,CACL5B,iBAAkBhC,EAAMgC,iBACxBI,QAAS,CAAC,CACRY,YAAaQ,EAAaK,IAAI,iBAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAaC,UAAU7B,KACvD,CACDc,YAAaQ,EAAaK,IAAI,cAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAaE,OAAO9B,KACpD,CACDc,YAAaQ,EAAaK,IAAI,mBAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAaG,YAAY/B,SAG7D,CAAClC,EAAMgC,iBAAkBhC,EAAM8D,eAC5BI,EAAqBN,mBAAQ,WACjC,MAAO,CACL5B,iBAAkBhC,EAAMgC,iBACxBI,QAAS,CAAC,CACRY,YAAaQ,EAAaK,IAAI,iBAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAaK,UAAUjC,KACvD,CACDc,YAAaQ,EAAaK,IAAI,gBAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAaM,SAASlC,KACtD,CACDc,YAAaQ,EAAaK,IAAI,kBAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAaO,WAAWnC,KACxD,CACDc,YAAaQ,EAAaK,IAAI,kBAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAaQ,WAAWpC,SAG5D,CAAClC,EAAMgC,iBAAkBhC,EAAM8D,eAEjCrE,QAAQC,IAAI,0BAnCsB,MAqCT6E,mBAAS,GArCA,mBAqC5BC,EArC4B,KAqCrBC,EArCqB,KAsC7BC,EAAsBC,uBAAY,SAACzC,GAAD,OAAWuC,EAASvC,KAAQ,IAEpE,OACE,oCACE,yBAAKvC,UAAWC,IAAOgF,aACrB,kBAAC,IAAD,CAAgBjF,UAAWC,IAAOiF,gBAClBC,mBAAiB,EACjBC,YAAU,EACVC,cAAeN,GAC7B,kBAAC,EAAef,GAChB,kBAAC,EAAeO,IAElB,kBAAC,IAAD,CAAMvE,UAAWC,IAAOqF,iBAAkBC,MAAO,EAAGV,MAAOA,S,QCZpD3D,G,OAAAA,IAAMsB,MA3CD,SAACnC,GACnB,IAD6B,EAgBauE,mBAASjB,GAhBtB,mBAgBtB6B,EAhBsB,KAgBPC,EAhBO,KAkBvBC,EAAmBV,uBAAY,SAACH,GACpCY,GAAiB,SAAAE,GACf,IAEMC,GAFYD,EAAUE,SAAShB,GACnCc,EAAUG,QAAO,SAAAC,GAAC,OAAIA,IAAMlB,KADZ,sBACyBc,GADzB,CACoCd,KACpBmB,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,KAErD,OADA7F,EAAM8F,qBAAqBP,GACpBA,OAER,IAEH,OACE,6BACG9F,QAAQC,IAAI,mBACb,wBAAIC,UAAU,OA9BL,CACX,CAACoD,IAAK,IAAKgD,KAAM,SACjB,CAAChD,IAAK,KAAMgD,KAAM,SAClB,CAAChD,IAAK,IAAKgD,KAAM,SACjB,CAAChD,IAAK,KAAMgD,KAAM,SAClB,CAAChD,IAAK,IAAKgD,KAAM,SACjB,CAAChD,IAAK,IAAKgD,KAAM,SACjB,CAAChD,IAAK,KAAMgD,KAAM,SAClB,CAAChD,IAAK,IAAKgD,KAAM,SACjB,CAAChD,IAAK,KAAMgD,KAAM,SAClB,CAAChD,IAAK,IAAKgD,KAAM,SACjB,CAAChD,IAAK,KAAMgD,KAAM,SAClB,CAAChD,IAAK,IAAKgD,KAAM,UAmBPlD,KAAI,SAACmD,EAAEN,GAAH,OACR,wBAAI3C,IAAK2C,EACL/F,UAAS,UAAKqG,EAAEjD,IAAP,YAAciD,EAAED,KAAhB,YAAwBZ,EAAcK,SAASE,GAAK,cAAe,IAC5EO,QAAS,SAACnE,GAAD,OAAWuD,EAAiBK,eCiCpC7E,MAAMsB,MA/DK,SAACnC,GACzB,IAAMkG,EAAwBtC,mBAAQ,WACpC,MAAO,CACL5B,iBAAkBhC,EAAMgC,iBACxBI,QAAS,CAAC,CACRY,YAAaQ,EAAaK,IAAI,4BAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAaqC,oBAAoBjE,KACjE,CACDc,YAAaQ,EAAaK,IAAI,6BAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAasC,sBAAsBlE,SAGvE,CAAClC,EAAMgC,iBAAkBhC,EAAM8D,eAC5BuC,EAAuBzC,mBAAQ,WACnC,MAAO,CACL5B,iBAAkBhC,EAAMgC,iBACxBI,QAAS,CAAC,CACRY,YAAaQ,EAAaK,IAAI,qBAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAawC,aAAapE,KAC1D,CACDc,YAAaQ,EAAaK,IAAI,yBAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAayC,iBAAiBrE,KAC9D,CACDc,YAAaQ,EAAaK,IAAI,oBAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAa0C,YAAYtE,KACzD,CACDc,YAAaQ,EAAaK,IAAI,qBAC9BT,eAAgB,SAAClB,GAAD,OAAWlC,EAAM8D,aAAa2C,aAAavE,SAG9D,CAAClC,EAAMgC,iBAAkBhC,EAAM8D,eAEjCrE,QAAQC,IAAI,0BAhCsB,MAkCT6E,mBAAS,GAlCA,mBAkC5BC,EAlC4B,KAkCrBC,EAlCqB,KAmC7BC,EAAsBC,uBAAY,SAACzC,GAAD,OAAWuC,EAASvC,KAAQ,IAC9DwE,EAAyB/B,uBAC7B,SAACgC,GAAD,OAAe3G,EAAM8D,aAAa8C,wBAAwBD,KAC1D,CAAC3G,EAAM8D,eAET,OACE,oCACE,yBAAKnE,UAAWC,IAAOgF,aACrB,kBAAC,IAAD,CAAgBjF,UAAWC,IAAOiF,gBAClBC,mBAAiB,EACjBC,YAAU,EACV8B,eAAa,EACb7B,cAAeN,GAC7B,kBAAC,EAAewB,GAChB,kBAAC,EAAD,CAAaJ,qBAAsBY,IACnC,kBAAC,EAAeL,IAElB,kBAAC,IAAD,CAAM1G,UAAWC,IAAOqF,iBAAkBC,MAAO,EAAGV,MAAOA,S,kFCkDpD3D,OAAMsB,MAjGA,SAACnC,GAEpB,IAAM8G,EAAwBC,IAAe,CAC3CC,UAAW,CACTC,UAAW,CACTC,MAAO,CACLtF,MAAO,WAETuF,MAAO,CACLvF,MAAO,eAQf,OAFAnC,QAAQC,IAAI,2BAGV,oCACE,yBAAKC,UAAWC,IAAOwH,sBACrB,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACErF,MAAM,mBACNsF,QACE,kBAACC,GAAA,EAAD,CAAQ7F,MAAM,UAAU8F,eAAgBpE,EAChCqE,SAAU,SAAC7F,GAAD,OAAW9B,EAAMI,gBAAgBwH,oBAAoB9F,EAAMG,OAAO4F,YAEtFC,MAAM,oBACNC,eAAe,QACjB,kBAACR,GAAA,EAAD,CACErF,MAAM,kBACNsF,QACE,kBAACC,GAAA,EAAD,CAAQ7F,MAAM,UAAU8F,eAAgBpE,EAChCqE,SAAU,SAAC7F,GAAD,OAAW9B,EAAMI,gBAAgB4H,mBAAmBlG,EAAMG,OAAO4F,YAErFC,MAAM,mBACNC,eAAe,QACjB,kBAACR,GAAA,EAAD,CACErF,MAAM,eACNsF,QACE,kBAACC,GAAA,EAAD,CAAQ7F,MAAM,UAAU8F,eAAgBpE,EAChCqE,SAAU,SAAC7F,GAAD,OAAW9B,EAAMiI,uBAAuBnG,EAAMG,OAAO4F,YAEzEC,MAAM,gBACNC,eAAe,WAKvB,kBAACG,EAAA,EAAD,CAASC,QAAS,WAElB,yBAAKxI,UAAWC,IAAOwI,2BACrB,yBAAKzI,UAAWC,IAAOyI,iCACrB,kBAACC,EAAA,EAAD,CAAYrF,GAAG,wBAAwBsF,cAAY,GAAnD,kBAGA,kBAACC,EAAA,EAAD,CAAeC,MAAO3B,GACpB,kBAAC4B,EAAA,EAAD,CACEvH,aAAcmC,EACdqF,kBAAgB,wBAChBC,kBAAkB,OAClBxH,KAAM,EACNyH,OAAK,EACLpH,IAAK,EACLC,IAAK,EACLoH,kBAAmB,SAACC,EAAG7G,GAAJ,OAAclC,EAAM8D,aAAakF,iBAAiB9G,QAI3E,yBAAKvC,UAAWC,IAAOyI,iCACrB,kBAACC,EAAA,EAAD,CAAYrF,GAAG,yBAAyBsF,cAAY,GAApD,mBAGA,kBAACC,EAAA,EAAD,CAAeC,MAAO3B,GACpB,kBAAC4B,EAAA,EAAD,CACEvH,aAAcmC,EACdqF,kBAAgB,yBAChBC,kBAAkB,OAClBxH,KAAM,EACNyH,OAAK,EACLpH,IAAK,EACLC,IAAK,EACLoH,kBAAmB,SAACC,EAAG7G,GAAJ,OAAclC,EAAMI,gBAAgB6I,kBAAkB/G,aCvCxErB,OAAMsB,MAlDI,SAACnC,GAExB,IAAMkJ,EACJ,qGACqF,uBACnFC,KAAK,oDAD8E,iBAIvF,OACE,oCACE,kBAACC,EAAA,EAAD,CAAiBC,QAASrJ,EAAMsJ,oBAAmB,GAAQC,OAAQvJ,EAAMsJ,oBAAmB,GAC3EE,KAAMxJ,EAAMyJ,uBAAwBC,eAAgB,IAAKC,OAAQ,MAAOC,aAAa,GACpG,yBAAKjK,UAAWC,IAAOiK,cACrB,kBAACC,EAAA,EAAD,CAAWC,SAAS,MAClB,kBAAC,EAAD,CAAmBjG,aAAc9D,EAAM8D,aAAc9B,iBAAkBhC,EAAMgC,mBAC7E,kBAACkG,EAAA,EAAD,CAASC,QAAS,WAClB,kBAAC,EAAD,CAAmBrE,aAAc9D,EAAM8D,aAAc9B,iBAAkBhC,EAAMgC,qBAGjF,yBAAKrC,UAAWC,IAAOoK,mBAEzB,kBAACZ,EAAA,EAAD,CAAiBC,QAASrJ,EAAMiK,oBAAmB,GAAQV,OAAQvJ,EAAMiK,oBAAmB,GAC3ET,KAAMxJ,EAAMkK,mBAAoBR,eAAgB,GAAIC,OAAQ,SAAUC,aAAa,GAClG,yBAAKjK,UAAWC,IAAOuK,cACrB,yBAAKxK,UAAWC,IAAOwK,qBACvB,kBAACN,EAAA,EAAD,CAAWC,SAAS,MAClB,kBAAC,GAAD,CAAcjG,aAAc9D,EAAM8D,aACpB1D,gBAAiBJ,EAAMI,gBACvB6H,uBAAwBjI,EAAMiI,0BAE9C,yBAAKtI,UAAWC,IAAOsJ,iBACpBA,S,yCCvBEmB,GAZM,SAACrK,GAEpB,OACE,yBAAKL,UAAWC,KAAO0K,cACrB,yBAAK3K,UAAWC,KAAO2K,oBACrB,kBAAC,KAAD,CACEC,UAAW,UAAWC,SAAU,QAASxE,QAASjG,EAAM0K,uBCUnD7J,OAAMsB,MAjBJ,WAEf,IAEMwI,EACJ,oCAHY,CAAC,IAAK,gBAAiB,IAAK,gBACxC,IAAK,IAAK,gBAAiB,IAAK,gBAAiB,IAAK,gBAAiB,KAG9D9H,KAAI,SAAA+H,GAAI,OAAI,0BAAMC,wBAAyB,CAACC,OAAQF,GAAO7H,IAAK6H,QAI3E,OACE,yBAAKjL,UAAWC,KAAOmL,kBACpBJ,M,0CCoEQK,GAxEI,SAAChL,GAAW,IAAD,EAE8BuE,oBAAS,GAFvC,mBAErBkF,EAFqB,KAEGwB,EAFH,OAGsB1G,oBAAS,GAH/B,mBAGrB2F,EAHqB,KAGDgB,EAHC,OAIc3G,oBAAS,GAJvB,mBAIrB4G,EAJqB,KAILC,EAJK,OAKkB7G,mBAAS,IAL3B,mBAKrB8G,EALqB,KAKJC,EALI,OAMQ/G,oBAAS,GANjB,mBAMrBgH,EANqB,KAMRC,EANQ,OAOgBjH,oBAAS,GAPzB,mBAOrBkH,EAPqB,KAOFC,EAPE,KAStBhB,EAAoB/F,uBAAY,WACpC3E,EAAM8D,aAAa6H,QACnBH,GAAa,KACZ,CAACxL,EAAM8D,eAEJwF,EAAqB3E,uBAAY,SAACiH,GAAD,OAAY,SAAC9J,KAC5CA,GAAwB,YAAfA,EAAMiE,MAAqC,QAAdjE,EAAMiB,KAA+B,UAAdjB,EAAMiB,MAGvEkI,EAAwBW,MACvB,IAGC3B,EAAqBtF,uBAAY,SAACiH,GAAD,OAAY,SAAC9J,KAC5CA,GAAwB,YAAfA,EAAMiE,MAAqC,QAAdjE,EAAMiB,KAA+B,UAAdjB,EAAMiB,MAGvEmI,EAAoBU,MACnB,IAGC5J,EAAmB2C,uBACvB,SAACkH,GACCT,GAAgB,GAChBE,EAAmBO,KAClB,IAGC5D,EAAyBtD,uBAAY,SAACzC,GAAD,OAAWwJ,EAAexJ,KAAQ,IAE7E,OACE,oCACE,kBAAC,GAAD,CAAkBoH,mBAAoBA,EACpBG,uBAAwBA,EACxBS,mBAAoBA,EACpBD,mBAAoBA,EACpBnG,aAAc9D,EAAM8D,aACpB1D,gBAAiBJ,EAAMI,gBACvB4B,iBAAkBA,EAClBiG,uBAAwBA,IAC1C,kBAAC6D,EAAA,EAAD,CAAUnM,UAAWC,KAAOmM,eAClBvC,KAAM2B,EACNa,iBAAkB,IAClB3C,QAAS,kBAAM+B,GAAgB,IAC/BS,QAASR,EACTY,aAAc,CAACC,SAAU,SAAUC,WAAY,YACzD,yBAAKxM,UAAWC,KAAOwM,sBACrB,kBAAC,KAAD,CAAgB3B,SAAU,WAE5B,yBAAK9K,UAAWC,KAAOyM,yBACrB,kBAAC,KAAD,CAAgB5B,SAAU,WAE3BgB,EAAqB,kBAAC,GAAD,MAAe,GACpCF,EAAc,GAAM,kBAAC,GAAD,CAAcb,kBAAmBA,M,SCvE/C4B,GAAW,SAACpK,EAAOqK,EAAIC,EAAIC,EAAIC,GAApB,OAA4BxK,EAAQqK,IAAOG,EAAKD,IAAOD,EAAKD,GAAME,GAM7EE,GAAuB,SAACC,EAAGC,GACtC,OAAOC,KAAKC,MAAsB,GAAhBF,EAAqB,GAAKP,GAASM,EAAG,EAAGI,OAAOC,WAAY,EAAG,MCsJpEC,G,WAzJb,aAAe,IAAD,gCAyEdC,0BAA4B,SAACC,GAC3B,EAAKC,WAAWC,cAAcF,EAAa,EAAKP,gBA1EpC,KA6EdU,0BAA4B,SAACxE,GAC3B,EAAKsE,WAAWG,kBA7EhBzM,KAAKsM,WAAa,KAClBtM,KAAK0M,OAASjK,EAAaK,IAAI,iBAAiB1C,aAChDJ,KAAK2M,IAAMlK,EAAaK,IAAI,cAAc1C,aAC1CJ,KAAK4M,SAAWnK,EAAaK,IAAI,mBAAmB1C,aAEpDJ,KAAK6M,OAASpK,EAAaK,IAAI,iBAAiB1C,aAChDJ,KAAK8M,MAAQrK,EAAaK,IAAI,gBAAgB1C,aAC9CJ,KAAK+M,QAAUtK,EAAaK,IAAI,kBAAkB1C,aAClDJ,KAAKgN,QAAUvK,EAAaK,IAAI,kBAAkB1C,aAElDJ,KAAKiN,UAAYxK,EAAaK,IAAI,qBAAqB1C,aACvDJ,KAAKkN,cAAgBzK,EAAaK,IAAI,yBAAyB1C,aAC/DJ,KAAKmN,SAAW1K,EAAaK,IAAI,oBAAoB1C,aACrDJ,KAAKoN,UAAY3K,EAAaK,IAAI,qBAAqB1C,aAEvDJ,KAAKqN,iBAAmB5K,EAAaK,IAAI,4BAA4B1C,aACrEJ,KAAKsN,mBAAqB7K,EAAaK,IAAI,6BAA6B1C,aACxEJ,KAAKuN,qBAAuBhL,EAE5BvC,KAAK8L,cAAgBvJ,E,oDAIrB7D,QAAQC,IAAI,yBACZiM,eAAQ4C,S,iCAGClB,GACT5N,QAAQC,IAAI,6BACZqB,KAAKsM,WAAaA,EAClBtM,KAAKsM,WAAWhN,WAAWU,MAHN,IAIdyN,EAASzN,KAAKsM,WAAdmB,MAEPA,EAAMf,OAAS,IAAIgB,KAAK1N,KAAK0M,OAAQ,eACrCe,EAAMd,IAAM,IAAIgB,KAAO3N,KAAK2M,KAC5Bc,EAAMG,KAAO,IAAIC,KAAO,CACtB7I,KAAM,UACN8I,UAAW,MAEbL,EAAMM,IAAM,IAAIC,KAAI,GAAK,IAAK,KAC9BP,EAAMM,IAAInD,QAEV6C,EAAMQ,MAAQ,IAAIC,KAAc,CAC9BjB,UAAWjN,KAAKiN,UAChBkB,aAAc,IAEhBnO,KAAKwF,iBAAiBxF,KAAKkN,eAC3BlN,KAAKyF,YAAYzF,KAAKmN,UACtBM,EAAMW,OAAS,IAAIC,KAAO,IAC1BrO,KAAK0F,aAAa1F,KAAKoN,WAEvBK,EAAMa,YAAc,IAAIC,KACxBd,EAAMe,cAAgB,IAAID,KAC1Bd,EAAMgB,aAAe,IAAIF,KACzBd,EAAMiB,MAAMC,QAAQlB,EAAMf,QAC1Be,EAAMf,OAAOiC,QAAQlB,EAAMd,KAC3Bc,EAAMd,IAAIgC,QAAQlB,EAAMG,MACxBH,EAAMM,IAAIY,QAAQlB,EAAMG,KAAKE,WAC7BL,EAAMG,KAAKe,QAAQlB,EAAMa,aACzBb,EAAMa,YAAYM,KAAK,aAAc,IACrCnB,EAAMa,YAAYM,KAAK,cAAe,IACtCnB,EAAMgB,aAAaI,QAAQ,aAC3BpB,EAAMe,cAAcK,QAAQ,cAC5BpB,EAAMgB,aAAaE,QAAQlB,EAAMQ,OACjCR,EAAMe,cAAcG,QAAQlB,EAAMW,QAClC,IAAMU,EAAkB,IAAIpB,KAAK,EAAG,eACpCD,EAAMQ,MAAMU,QAAQG,GACpBrB,EAAMW,OAAOO,QAAQG,GAErBA,EAAgBH,QAAQI,Q,gCAWhBrC,GACR1M,KAAK0M,OAASA,EACd1M,KAAKsM,WAAWmB,MAAMf,OAAOsC,KAAK7N,MAAQuL,I,6BAErCC,GACL3M,KAAK2M,IAAMA,EACX3M,KAAKsM,WAAWmB,MAAMd,IAAIA,IAAIxL,MAAQnB,KAAK2M,M,kCAEjCC,GACV5M,KAAK4M,SAAWA,EAChB5M,KAAKsM,WAAWmB,MAAMM,IAAIrN,IAAM6K,GAASvL,KAAK4M,SAAU,EAAG,EAAG,IAAM,KACpE5M,KAAKsM,WAAWmB,MAAMM,IAAIpN,IAAM4K,GAASvL,KAAK4M,SAAU,EAAG,EAAG,IAAM,O,gCAG5DC,GACR7M,KAAK6M,OAASA,EACd7M,KAAKsM,WAAW2C,YAAYjP,KAAK6M,OAAQ7M,KAAK8M,MAAO9M,KAAK+M,QAAS/M,KAAKgN,W,+BAEjEF,GACP9M,KAAK8M,MAAQA,EACb9M,KAAKsM,WAAW2C,YAAYjP,KAAK6M,OAAQ7M,KAAK8M,MAAO9M,KAAK+M,QAAS/M,KAAKgN,W,iCAE/DD,GACT/M,KAAK+M,QAAUA,EACf/M,KAAKsM,WAAW2C,YAAYjP,KAAK6M,OAAQ7M,KAAK8M,MAAO9M,KAAK+M,QAAS/M,KAAKgN,W,iCAE/DA,GACThN,KAAKgN,QAAUA,EACfhN,KAAKsM,WAAW2C,YAAYjP,KAAK6M,OAAQ7M,KAAK8M,MAAO9M,KAAK+M,QAAS/M,KAAKgN,W,mCAG7DC,GACXjN,KAAKiN,UAAYA,EACjBjN,KAAKsM,WAAWmB,MAAMQ,MAAMhB,UAAU9L,MAAQnB,KAAKiN,Y,uCAEpCiC,GACflP,KAAKkN,cAAgBgC,EACrBlP,KAAKsM,WAAWmB,MAAMQ,MAAMiB,SAAS/N,MAAQnB,KAAKkN,gB,kCAExCiC,GACVnP,KAAKmN,SAAWgC,EAChBnP,KAAKsM,WAAWmB,MAAMQ,MAAMmB,IAAIjO,MAAQnB,KAAKmN,W,mCAElCgC,GACXnP,KAAKoN,UAAY+B,EACjBnP,KAAKsM,WAAWmB,MAAMW,OAAOgB,IAAIjO,MAAQnB,KAAKoN,Y,0CAG5BiC,GAClBrP,KAAKqN,iBAAmBgC,EACG,gBAAvBrP,KAAKsM,WAAWpK,IAClBlC,KAAKsM,WAAWgD,gBAAgBD,K,4CAGdE,GACpBvP,KAAKsN,mBAAqBiC,EACC,gBAAvBvP,KAAKsM,WAAWpK,IAClBlC,KAAKsM,WAAWkD,WAAWD,K,8CAGPE,GACtBzP,KAAKuN,qBAAuBkC,EACD,gBAAvBzP,KAAKsM,WAAWpK,IAClBlC,KAAKsM,WAAWzG,wBAAwB4J,K,uCAI3B3D,GACf9L,KAAK8L,cAAgBA,M,cC3JJ4D,GACnB,aAAe,oBACb1P,KAAK0M,OAAS,KACd1M,KAAK2M,IAAM,KACX3M,KAAK4N,KAAO,KACZ5N,KAAK0O,MAAQ,KACb1O,KAAKoO,OAAS,KACdpO,KAAKiO,MAAQ,KACbjO,KAAK2P,SAAW,MCkELC,G,WArEb,aAAe,oBACb5P,KAAKkC,GAAK,cACVlC,KAAKyN,MAAQ,IAAIiC,GACjB1P,KAAK6P,gBAAkB,KACvB7P,KAAK8P,aAAe,KACpB9P,KAAK+P,UAAY,KACjB/P,KAAK+C,aAAe,K,uDAGXA,GACTrE,QAAQC,IAAI,6BACZqB,KAAK+C,aAAeA,EACpB/C,KAAKyN,MAAMiB,MAAQ,IAAIsB,KAAM,CAC3BC,WAAY,CACVjL,KAAM,cAGVhF,KAAKyN,MAAMyC,QAAU,IAAIC,KAAQ,CAC/BD,QAAS,WAEXlQ,KAAKyN,MAAMyC,QAAQE,SAAW,MAC9BpQ,KAAKiP,YAAYlM,EAAa8J,OAAQ9J,EAAa+J,MAAO/J,EAAagK,QAAShK,EAAaiK,SAC7FhN,KAAK8P,aAAe/M,EAAasK,iBACjCrN,KAAK6P,gBAAkB9M,EAAauK,mBACpCtN,KAAK+P,UAAYhN,EAAawK,uB,oCAGlBlB,EAAaP,GAAgB,IAAD,OACxCuE,KAAUzF,QAD8B,QAEf5K,KAAKyN,MAAvByC,EAFiC,EAEjCA,QAASxB,EAFwB,EAExBA,MACZ4B,EAAQ,GAH4B,eAI1BC,MAAMxE,KAAKyE,MAAMxQ,KAAK6P,kBAAkBY,QAJd,yBAI/B9L,EAJ+B,QAKtC2L,EAAQA,EAAMI,OAAO,EAAKX,UAAUjO,KAAI,SAAA+H,GAAI,OAAIA,EAAY,GAAJlF,OAD1D,2BAA+D,IAJvB,8BAOxC,IH3B+BgM,EG2BzBC,GH3ByBD,EG2BKtE,EAAY,GAAGsE,EH1B9CpF,GAASoF,EAAG,EAAG1E,OAAO4E,YAAa,EAAG,IG2B3CX,EAAQY,SAAW,SAACC,EAAMlH,GAAP,OAAgB6E,EAAMsC,qBAAqBnH,EAAM,WAAOoH,EAAWL,IACtF,IAAMM,EAAiBtF,GAAqBS,EAAY,GAAGR,EAAGC,GAC9DoE,EAAQiB,OAASb,EAAMxO,KAAI,SAAA+H,GAAI,OAAIkC,KAAKC,MAAMoF,aAAKvH,EAAOqH,GAAgBG,kBAC1EnB,EAAQJ,aAAe9P,KAAK8P,aAC5BI,EAAQtF,U,qCAGKyB,GACbrM,KAAKyN,MAAMyC,QAAQoB,OACnBjB,KAAUiB,S,8CAGYC,GACtBvR,KAAK+P,UAAL,YAAqBwB,K,iCAGZhC,GACTvP,KAAK6P,gBAAkBN,I,sCAGTF,GACdrP,KAAK8P,aAAeT,EACpBrP,KAAKyN,MAAMyC,QAAQJ,aAAeT,I,kCAGxBxC,EAAQC,EAAOC,EAASC,GAAU,IAC5BwE,EAAOxR,KAAKyN,MAAMiB,MAA3BiB,SACP6B,EAAI3E,OAASA,EACb2E,EAAI1E,MAAQA,EACZ0E,EAAIzE,QAAUA,EACdyE,EAAIxE,QAAUA,M,KCEHyE,G,kDApEb,WAAYxS,GAAQ,IAAD,8BACjB,cAAMA,IAeRyS,uBAAyB,WACvB,EAAKnR,SAAS,CAACgB,MAAO0K,OAAOC,WAAYyF,OAAQ1F,OAAO4E,eAjBvC,EA2DnBe,wBAA0B,SAACvF,GACzB,EAAKpN,MAAM8D,aAAaqJ,0BAA0BC,IA5DjC,EA+DnBwF,2BAA6B,SAACxF,GAC5B,EAAKpN,MAAM8D,aAAayJ,0BAA0BH,IA9DlD,EAAK1M,MAAQ,CAAC4B,MAAO,EAAGoQ,OAAQ,GAChC,EAAKG,kBAAmB,EAHP,E,gEAOjB9R,KAAK0R,yBACLzF,OAAOnL,iBAAiB,SAAUd,KAAK0R,wBACvC1R,KAAKf,MAAM8D,aAAazD,WAAW,IAAIsQ,M,6CAIvC3D,OAAO8F,oBAAoB,SAAU/R,KAAK0R,0B,+BAOlC,IAAD,OACDpQ,EAAQ,CACZ0Q,SAAU,WACVC,KAAM,EACNC,IAAK,EACLP,OAAQ3R,KAAKL,MAAMgS,OACnBpQ,MAAOvB,KAAKL,MAAM4B,OAEpB,OACE,yBAAKD,MAAOA,EACP6Q,YAAa,SAAApR,GAAK,OAAI,EAAK6Q,wBAAwB,CAAC,CAAC/F,EAAG9K,EAAMqR,QAASzB,EAAG5P,EAAMsR,YAChFC,UAAW,kBAAM,EAAKT,2BAA2B,KACjDU,aAAc,SAACxR,GACT,EAAK+Q,kBAG0B,IAA/B/Q,EAAMyR,cAAcC,SAGxB,EAAKX,kBAAmB,EACxB,EAAKF,wBAAwB,CAAC,CAC5B/F,EAAG9K,EAAMyR,cAAcrQ,KAAK,GAAGiQ,QAC/BzB,EAAG5P,EAAMyR,cAAcrQ,KAAK,GAAGkQ,aAMnCK,WAAY,SAAC3R,GAEwB,IAA/BA,EAAMyR,cAAcC,SAGxB,EAAKX,kBAAmB,EACxB,EAAKD,2BAA2B9Q,W,GAvDnBhC,a,qBC2DX4T,G,WA5Db,WAAYzQ,EAAImK,EAAauG,EAAIC,EAAeC,GAAa,oBAC3D9S,KAAK4S,GAAKA,EACV5S,KAAKkC,GAAKA,EACVlC,KAAK+S,SAAWH,EAAGI,aAAa3G,EAAYR,EAAGQ,EAAYsE,GAC3D3Q,KAAK4Q,SAAWgC,EAAGI,aAAa,GAAKF,EAAWG,gBAChDjT,KAAKkT,oBAAsBN,EAAGjB,OAAO,EACrC3R,KAAK6S,cAAgBA,EACrB7S,KAAK8S,WAAaA,E,qDAIlB9S,KAAK+S,SAASI,IAAInT,KAAK4Q,UACnB5Q,KAAKoT,gBACPpT,KAAKqT,mBAELrT,KAAKsT,UACLtT,KAAKuT,oB,sCAKP,OAAOvT,KAAK+S,SAASpC,EAAI,I,gCAIzB3Q,KAAK4S,GAAGY,WACRxT,KAAK4S,GAAGa,KAAKzT,KAAK8S,WAAWY,iBAFrB,IAGD/B,EAAU3R,KAAK4S,GAAfjB,OACDgC,EAAO3T,KAAK4S,GAAG9Q,IAAI9B,KAAK+S,SAASpC,EAAG,EAAGgB,EAAQ,GAAI,IACzD3R,KAAK4S,GAAGgB,QAAQ5T,KAAK+S,SAASlH,EAAG7L,KAAK+S,SAASpC,EAAGgD,EAAMA,K,kDAG9BN,GAC1BrT,KAAKqT,gBAAkBA,I,uCAIvB,GAA0B,MAAtBrT,KAAK6S,cAAT,CADe,MAIY7S,KAAK6S,cAAcE,SAArCc,EAJM,EAIRhI,EAAWiI,EAJH,EAICnD,EAChB,GAAI5E,KAAKgI,IAAI/T,KAAK+S,SAASpC,EAAImD,GAAS9T,KAAKkT,oBAC3ClT,KAAK6S,cAAgB,SADvB,CAIA7S,KAAK4S,GAAGoB,OAAOhU,KAAK8S,WAAWY,iBAC/B1T,KAAK4S,GAAGqB,SACRjU,KAAK4S,GAAGsB,aAAa,KACrB,IAAIC,GAASnU,KAAK+S,SAASlH,EAAIgI,GAAO,EAClCO,GAASpU,KAAK+S,SAASpC,EAAImD,GAAO,EACnCM,EAAQ,KAAIA,EAAQpU,KAAK4S,GAAGyB,QAAQ,GAAI,KACxCF,EAAQ,KAAIA,EAAQnU,KAAK4S,GAAGyB,QAAQ,GAAI,KAC3CrU,KAAK4S,GAAG0B,OACNtU,KAAK+S,SAASlH,EAAG7L,KAAK+S,SAASpC,EAC/B3Q,KAAK+S,SAASlH,EAAI7L,KAAK4S,GAAGyB,OAAO,EAAEF,GAAQnU,KAAK+S,SAASpC,EAAI3Q,KAAK4S,GAAGyB,OAAO,EAAED,GAC9EP,EAAQ7T,KAAK4S,GAAGyB,OAAO,EAAEF,GAAQL,EAAQ9T,KAAK4S,GAAGyB,OAAO,EAAED,GAC1DP,EAAOC,S,eCZES,G,WA1Cb,WAAYrS,EAAImK,EAAauG,EAAIE,GAAa,IAAD,2BAC3C9S,KAAK4S,GAAKA,EACV5S,KAAKkC,GAAKA,EACVlC,KAAKqM,YAAcA,EACnBrM,KAAKwU,gBAAkB,IAAI9R,IAC3B1C,KAAKqT,gBAAkB,KACvBrT,KAAKyU,sBAAuB,EAE5BzU,KAAK0U,WAAaC,aAAY,WAC5B,IAAMC,EAAUC,eAChB,EAAKL,gBAAgB7R,IAAIiS,EAAS,IAAIE,GACpCF,EACAvI,EAAYR,EACZ+G,EACAE,EAAWG,eACXH,EAAWiC,qBACX,SAACC,GAAD,OAAW,EAAKC,YAAYD,SAC7BE,OAAOC,SAASvC,EAAGyB,OAAO,GAAI,O,qDAIG,IAAhCrU,KAAKwU,gBAAgB/B,QAAgBzS,KAAKyU,sBAC5CzU,KAAKqT,kBAEPrT,KAAKwU,gBAAgBY,SAAQ,SAAAJ,GAAK,OAAIA,EAAMK,c,kCAGlCL,GACVhV,KAAKwU,gBAAgBc,OAAON,EAAM9S,IAClC8S,EAAQ,O,kDAGkB3B,GAC1BrT,KAAKqT,gBAAkBA,I,4CAIvBkC,cAAcvV,KAAK0U,YACnB1U,KAAKyU,sBAAuB,M,KAM1BK,G,WAEJ,WAAY5S,EAAI2J,EAAG+G,EAAIvD,EAAOxO,EAAO2U,GAAiB,oBACpDxV,KAAKkC,GAAKA,EACVlC,KAAK4S,GAAKA,EACV5S,KAAKwV,eAAiBA,EACtB,IAAIC,GAAiBpG,EAAQuD,EAAGyB,OAAO,EAAE,GACzCrU,KAAK2T,KAAOf,EAAGyB,OAAkB,IAAXzB,EAAGrR,MAAyB,IAAXqR,EAAGrR,OAC1CvB,KAAK+S,SAAWH,EAAGI,aAAaJ,EAAGyB,OAAOxI,EAAgB,MAAX+G,EAAGrR,MAAiBsK,EAAgB,MAAX+G,EAAGrR,OAAkBqR,EAAGjB,OAAS,IACzG3R,KAAK4Q,SAAWgC,EAAGI,aAAa,EAAGyC,GACnCzV,KAAKa,MAAQA,EACbb,KAAK0V,MAAQR,OAAOC,SAASvC,EAAGyB,OAAO,GAAI,M,qDAI3CrU,KAAK+S,SAASI,IAAInT,KAAK4Q,UACnB5Q,KAAKoT,gBACPpT,KAAKwV,eAAexV,MAEpBA,KAAKsT,Y,sCAKP,OAAOtT,KAAK+S,SAASpC,EAAI,I,gCAIzB3Q,KAAK4S,GAAGY,WACRxT,KAAK4S,GAAGa,KAAKzT,KAAK4S,GAAG/R,MACnBb,KAAK4S,GAAG+C,IAAI3V,KAAKa,OACjBb,KAAK4S,GAAGgD,MAAM5V,KAAKa,OACnBb,KAAK4S,GAAGiD,KAAK7V,KAAKa,OAClBb,KAAK0V,QAEP1V,KAAK4S,GAAGgB,QAAQ5T,KAAK+S,SAASlH,EAAG7L,KAAK+S,SAASpC,EAAG3Q,KAAK2T,KAAM3T,KAAK2T,U,KC2DvDmC,G,WAvIb,aAAe,IAAD,gCAqBdtW,OAAS,SAACuW,GAERA,EAAEC,MAAQ,WACRtX,QAAQC,IAAI,SACZoX,EAAEE,aAAaF,EAAEG,YAAaH,EAAEI,eAGlCJ,EAAEK,KAAO,WACPL,EAAEM,QACE,EAAKC,yBACP,EAAKC,YAAYnB,SAAQ,SAAAoB,GAAU,OAAIA,EAAWnB,YAClD,EAAKoB,sBAAsBrB,SAAQ,SAAAsB,GAAM,OAAIA,EAAOrB,cAIxDU,EAAEY,cAAgB,WAChBZ,EAAEa,aAAab,EAAEG,YAAaH,EAAEI,eAGlCJ,EAAEc,aAAe,SAAC9V,GACZ,EAAK+Q,kBAG0B,IAA/B/Q,EAAMyR,cAAcC,SAGxB,EAAKX,kBAAmB,EACxB,EAAKF,wBAAwB,CAAC,CAC5B/F,EAAG9K,EAAMyR,cAAcrQ,KAAK,GAAGiQ,QAC/BzB,EAAG5P,EAAMyR,cAAcrQ,KAAK,GAAGkQ,aAQnC0D,EAAEe,aAAe,SAAC/V,GAChB,EAAK6Q,wBAAwB,CAAC,CAAC/F,EAAG9K,EAAM8K,EAAG8E,EAAG5P,EAAM4P,MAGtDoF,EAAEgB,WAAa,SAAChW,GACqB,IAA/BA,EAAMyR,cAAcC,SAGxB,EAAKX,kBAAmB,EACxB,EAAKD,2BAA2B9Q,KAGlCgV,EAAEiB,cAAgB,WAChB,EAAKnF,2BAA2B,MAvEtB,KA2EdD,wBAA0B,SAACvF,GACpB,EAAKiK,wBAGVjK,EAAY+I,SAAQ,SAAA6B,GAClB,IAAMC,EAAiBrC,eACjB2B,EAAa,IAAI7D,GACrBuE,EACAD,EACA,EAAKE,KACL,EAAKC,mBACL,EAAKC,iBAEPb,EAAWc,6BAA4B,kBAAM,EAAKC,4BAA4Bf,MAC9E,EAAKD,YAAY5T,IAAIuU,EAAgBV,GACrC,EAAKY,mBAAqBZ,EAE1B,IAAMgB,EAAyB3C,eACzB4C,EAAuB,IAAIlD,GAC/BiD,EACAP,EACA,EAAKE,KACL,EAAKE,iBAEP,EAAKZ,sBAAsB9T,IAAI6U,EAAwBC,GACvDA,EAAqBH,6BACnB,kBAAK,EAAKI,sCAAsCD,UArGxC,KAyGd5F,2BAA6B,SAAC7J,GACvB,EAAKsO,wBAGV,EAAKG,sBAAsBrB,SAAQ,SAAAsB,GAAM,OAAIA,EAAOiB,0BA5GpD3X,KAAKmX,KAAO,KACZnX,KAAKuW,YAAc,IAAI7T,IACvB1C,KAAKyW,sBAAwB,IAAI/T,IACjC1C,KAAKoX,mBAAqB,KAC1BpX,KAAK8R,kBAAmB,EAExB9R,KAAKqX,gBAAkB,CACrBpE,eAAgB1Q,EAChBmR,gBAAiBnR,EACjBwS,oBAAqBxS,GAEvBvC,KAAKsW,wBAAyB,EAC9BtW,KAAK4X,uBAAwB,EAC7B5X,KAAK0K,mBAAoB,E,uDAGhBmN,GACT7X,KAAKmX,KAAO,IAAIvE,KAAG5S,KAAKR,OAAQqY,K,kDA8FNrB,GAC1BxW,KAAKuW,YAAYjB,OAAOkB,EAAWtU,IACnCsU,EAAa,O,4DAGuBE,GACpC1W,KAAKyW,sBAAsBnB,OAAOoB,EAAOxU,IACzCwU,EAAS,O,0CAGSvV,GAClBnB,KAAKsW,uBAAyBnV,I,yCAGbA,GACjBnB,KAAK4X,sBAAwBzW,I,wCAGbA,GAChBnB,KAAKqX,gBAAgBpE,eAAiB9R,M,KC9G3B2W,G,kDAjBb,aAAe,IAAD,8BACZ,gBACK/U,aAAe,IAAIoJ,GACxB,EAAK9M,gBAAkB,IAAIyW,GAHf,E,qDAMZ,OACE,oCACE,kBAAC,GAAD,CAAa/S,aAAc/C,KAAK+C,eAChC,kBAAC,EAAD,CAAgB1D,gBAAiBW,KAAKX,kBACtC,kBAAC,EAAD,MACA,kBAAC,GAAD,CAAY0D,aAAc/C,KAAK+C,aAAc1D,gBAAiBW,KAAKX,uB,GAbzDN,aCGEgZ,QACW,cAA7B9L,OAAO8G,SAASiF,UAEe,UAA7B/L,OAAO8G,SAASiF,UAEhB/L,OAAO8G,SAASiF,SAASC,MACvB,2DCZNC,IAASC,OACL,kBAAC,GAAD,MAEFC,SAASC,eAAe,SD0HpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBhL,MAAK,SAAAiL,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLla,QAAQka,MAAMA,EAAM9N,a,mBExI5B+N,EAAOC,QAAU,CAAC,aAAe,6BAA6B,gBAAkB,gCAAgC,YAAc,4BAA4B,iBAAmB,iCAAiC,YAAc,4BAA4B,gBAAkB,gCAAgC,mBAAqB,mCAAmC,aAAe,6BAA6B,0BAA4B,0CAA0C,gCAAkC,gDAAgD,gBAAkB,gCAAgC,qBAAuB,uC,mBCA/mBD,EAAOC,QAAU,CAAC,eAAiB,mCAAmC,aAAe,iCAAiC,mBAAqB,uCAAuC,iBAAmB,qCAAqC,qBAAuB,yCAAyC,wBAA0B,8C,mBCApUD,EAAOC,QAAU,CAAC,mBAAqB,+CAA+C,SAAW,uC,mBCAjGD,EAAOC,QAAU,CAAC,OAAS,oC","file":"static/js/main.abd7defa.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport styles from '../../styles/layout/GradientBackground.module.css';\r\n\r\nclass GradientBackground extends Component {\r\n  render() {\r\n    console.log(\"Rendering gradient\")\r\n    return (\r\n      <div className={styles.gradientBackground}/>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GradientBackground;","import React, {useEffect, useRef} from 'react';\r\nimport styles from '../../styles/ProcessingSketch.module.css'\r\n\r\nconst GraphicsCanvas = (props) => {\r\n\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(\r\n    () => props.graphicsContext.initialize(canvasRef.current),\r\n    [props.graphicsContext]);\r\n\r\n  return (\r\n    <>\r\n      {console.log(\"Rending graphics canvas\")}\r\n      <div className={styles.sketch} ref={canvasRef}/>\r\n    </>\r\n  )\r\n\r\n}\r\n\r\nexport default GraphicsCanvas;","import React, {Component} from 'react';\r\nimport PrecisionInputs from 'precision-inputs/common/precision-inputs.fl-controls';\r\nimport \"precision-inputs/css/precision-inputs.fl-controls.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Dial extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dial: null\r\n    }\r\n    this.dialRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {minValue, maxValue, defaultValue, step, parameter} = this.props.model\r\n    this.setState({\r\n      dial: new PrecisionInputs.FLStandardKnob(this.dialRef.current, {\r\n        min: minValue,\r\n        max: maxValue,\r\n        initial: defaultValue,\r\n        step: step,\r\n        color: \"#29DFF9\"\r\n      })\r\n    }, () => {\r\n      this.state.dial.addEventListener('change', (event) => {\r\n        this.props.changeCallback(event);\r\n        this.props.snackbarCallback(`${parameter} : ${event.target.value}`);\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    console.log(`Rendering dial ${this.props.model.parameter}`)\r\n    return (\r\n      <div ref={this.dialRef} className=\"my-knob-container\"/>\r\n    );\r\n  }\r\n}\r\n\r\nDial.propTypes = {\r\n  model: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    parameter: PropTypes.string.isRequired,\r\n    minValue: PropTypes.number.isRequired,\r\n    maxValue: PropTypes.number.isRequired,\r\n    defaultValue: PropTypes.number.isRequired,\r\n    step: PropTypes.number.isRequired\r\n  }),\r\n  changeCallback: PropTypes.func.isRequired,\r\n  snackbarCallback: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Dial;","import React from 'react';\r\nimport Dial from \"./Dial\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"../../styles/layout/Drawer.module.css\"\r\n\r\nconst Controller = (props) => {\r\n  const style = {\r\n    width: \"100%\",\r\n    overflow: \"hidden\",\r\n  }\r\n  const {snackbarCallback, sliders} = props\r\n  return (\r\n    <div style={style}>\r\n      <Grid container justify=\"center\" alignItems=\"center\" spacing={2}>\r\n        {sliders.map(slider => (\r\n          <Grid key={slider.sliderModel.id} item xs={3}>\r\n            <Dial model={slider.sliderModel}\r\n                  changeCallback={event => slider.sliderCallback(event.target.value)}\r\n                  snackbarCallback={snackbarCallback}/>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n      <Grid container justify=\"center\" alignItems=\"center\" spacing={2}>\r\n        {sliders.map(slider => (\r\n          <Grid className={styles.sliderLabel} key={slider.sliderModel.id} item xs={3}>\r\n            {slider.sliderModel.parameter}\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nController.propTypes = {\r\n  sliders: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      sliderModel: PropTypes.object.isRequired,\r\n      sliderCallback: PropTypes.func.isRequired\r\n    })\r\n  ).isRequired,\r\n  snackbarCallback: PropTypes.func.isRequired\r\n}\r\n\r\nexport default React.memo(Controller);","export const initializationConstants = {\r\n  animationSpeed: 2,\r\n  primeMoverColor: \"#ffffff\",\r\n  secondaryMoverColor: \"#ffffff\",\r\n  accentColor: \"\",\r\n  startingOctave: 3,\r\n  currentPatch: 0,\r\n  displayAnimation: true,\r\n  displayWaveform: true,\r\n  displayNotes: false,\r\n  arpeggiatorSemitones: [0,2,7,11]\r\n};\r\n\r\nclass SliderModel {\r\n  constructor(id, parameter, defaultValue, minValue, maxValue, step) {\r\n    this.id = id;\r\n    this.parameter = parameter;\r\n    this.defaultValue = defaultValue;\r\n    this.minValue = minValue;\r\n    this.maxValue = maxValue;\r\n    this.step = step;\r\n  }\r\n}\r\n\r\nexport const sliderModels = new Map();\r\nsliderModels.set(\"volume-slider\", new SliderModel(\r\n  \"volume-slider\",\r\n  \"Volume\",\r\n  0.7,\r\n  0,\r\n  1,\r\n  0.01\r\n));\r\nsliderModels.set(\"pan-slider\", new SliderModel(\r\n  \"pan-slider\",\r\n  \"Pan\",\r\n  0,\r\n  -1.0,\r\n  1.0,\r\n  0.01\r\n));\r\nsliderModels.set(\"variance-slider\", new SliderModel(\r\n    \"variance-slider\",\r\n    \"Variance\",\r\n    1,\r\n    0,\r\n    1,\r\n    0.01\r\n))\r\nsliderModels.set(\"attack-slider\", new SliderModel(\r\n  \"attack-slider\",\r\n  \"Attack\",\r\n  0.1,\r\n  0.01,\r\n  1,\r\n  0.01\r\n));\r\nsliderModels.set(\"decay-slider\", new SliderModel(\r\n  \"decay-slider\",\r\n  \"Decay\",\r\n  0.1,\r\n  0.01,\r\n  1,\r\n  0.01\r\n));\r\nsliderModels.set(\"sustain-slider\", new SliderModel(\r\n  \"sustain-slider\",\r\n  \"Sustain\",\r\n  0.8,\r\n  0.01,\r\n  1,\r\n  0.01\r\n));\r\nsliderModels.set(\"release-slider\", new SliderModel(\r\n  \"release-slider\",\r\n  \"Release\",\r\n  1,\r\n  0.01,\r\n  3,\r\n  0.01\r\n));\r\nsliderModels.set(\"mod-index-slider\", new SliderModel(\r\n  \"mod-index-slider\",\r\n  \"modIndex\",\r\n  5,\r\n  0,\r\n  10,\r\n  0.01\r\n));\r\nsliderModels.set(\"mod-ratio-slider\", new SliderModel(\r\n  \"mod-ratio-slider\",\r\n  \"modRatio\",\r\n  2,\r\n  0,\r\n  5,\r\n  0.01\r\n));\r\nsliderModels.set(\"mod-duration-slider\", new SliderModel(\r\n  \"mod-duration-slider\",\r\n  \"modDuration\",\r\n  1,\r\n  0,\r\n  3,\r\n  0.01\r\n));\r\nsliderModels.set(\"delay-time-slider\", new SliderModel(\r\n  \"delay-time-slider\",\r\n  \"Delay time\",\r\n  1,\r\n  0,\r\n  4,\r\n  0.01\r\n));\r\nsliderModels.set(\"delay-feedback-slider\", new SliderModel(\r\n  \"delay-feedback-slider\",\r\n  \"Feedback\",\r\n  0.3,\r\n  0,\r\n  0.99,\r\n  0.01\r\n));\r\nsliderModels.set(\"delay-mix-slider\", new SliderModel(\r\n  \"delay-mix-slider\",\r\n  \"Delay mix\",\r\n  0.15,\r\n  0,\r\n  1,\r\n  0.01\r\n));\r\nsliderModels.set(\"reverb-mix-slider\", new SliderModel(\r\n  \"reverb-mix-slider\",\r\n  \"Reverb mix\",\r\n  0.8,\r\n  0,\r\n  1,\r\n  0.01\r\n));\r\nsliderModels.set(\"arpeggiator-speed-slider\", new SliderModel(\r\n  \"arpeggiator-speed-slider\",\r\n  \"Speed\",\r\n  1.25,\r\n  0.5,\r\n  2,\r\n  0.01\r\n));\r\nsliderModels.set(\"arpeggiator-octave-slider\", new SliderModel(\r\n  \"arpeggiator-octave-slider\",\r\n  \"Octaves\",\r\n  3,\r\n  1,\r\n  3,\r\n  1\r\n));\r\n","import React, {useCallback, useMemo, useState} from 'react';\r\nimport SwipeableViews from \"react-swipeable-views\";\r\nimport Controller from \"../controller/Controller\";\r\nimport {sliderModels} from \"../util/InitializationConstants\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"../../styles/layout/Drawer.module.css\"\r\nimport Dots from \"material-ui-dots\";\r\n\r\n\r\nconst ControllerALayout = (props) => {\r\n  const globalController = useMemo(() => {\r\n    return {\r\n      snackbarCallback: props.snackbarCallback,\r\n      sliders: [{\r\n        sliderModel: sliderModels.get(\"volume-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setVolume(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"pan-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setPan(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"variance-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setVariance(value)\r\n      }]\r\n    }\r\n  }, [props.snackbarCallback, props.audioContext]);\r\n  const envelopeController = useMemo(() => {\r\n    return {\r\n      snackbarCallback: props.snackbarCallback,\r\n      sliders: [{\r\n        sliderModel: sliderModels.get(\"attack-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setAttack(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"decay-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setDecay(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"sustain-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setSustain(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"release-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setRelease(value)\r\n      }]\r\n    }\r\n  }, [props.snackbarCallback, props.audioContext]);\r\n\r\n  {console.log(\"Rendering Controller A\")}\r\n\r\n  const [index, setIndex] = useState(0);\r\n  const indexChangeCallback = useCallback((value) => setIndex(value), []);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.relativeBox}>\r\n        <SwipeableViews className={styles.sliderContainer}\r\n                        enableMouseEvents\r\n                        resistance\r\n                        onChangeIndex={indexChangeCallback}>\r\n          <Controller {...globalController}/>\r\n          <Controller {...envelopeController}/>\r\n        </SwipeableViews>\r\n        <Dots className={styles.sliderPagination} count={2} index={index}/>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nControllerALayout.propTypes = {\r\n  audioContext: PropTypes.object.isRequired,\r\n  snackbarCallback: PropTypes.func.isRequired\r\n}\r\n\r\nexport default React.memo(ControllerALayout);","import React, {useCallback, useState} from 'react';\r\nimport \"../../styles/layout/Piano.css\"\r\nimport {initializationConstants} from \"../util/InitializationConstants\";\r\n\r\nconst PianoLayout = (props) => {\r\n  const keys = [\r\n    {key: \"c\", type: \"white\"},\r\n    {key: \"cs\", type: \"black\"},\r\n    {key: \"d\", type: \"white\"},\r\n    {key: \"ds\", type: \"black\"},\r\n    {key: \"e\", type: \"white\"},\r\n    {key: \"f\", type: \"white\"},\r\n    {key: \"fs\", type: \"black\"},\r\n    {key: \"g\", type: \"white\"},\r\n    {key: \"gs\", type: \"black\"},\r\n    {key: \"a\", type: \"white\"},\r\n    {key: \"as\", type: \"black\"},\r\n    {key: \"b\", type: \"white\"}\r\n  ];\r\n\r\n  const [keysActivated, setKeysActivated] = useState(initializationConstants.arpeggiatorSemitones);\r\n\r\n  const keySelectHandler = useCallback((index) => {\r\n    setKeysActivated(prevState => {\r\n      const keysArray = prevState.includes(index) ?\r\n        prevState.filter(i => i !== index) : [...prevState, index];\r\n      const sortedKeysArray = keysArray.sort((a, b) => a - b);\r\n      props.keySelectionCallback(sortedKeysArray);\r\n      return sortedKeysArray;\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      {console.log(\"rendering piano\")}\r\n      <ul className=\"set\">\r\n        {keys.map((k,i) => (\r\n          <li key={i}\r\n              className={`${k.key} ${k.type} ${keysActivated.includes(i) ? \"keySelected\": \"\"}`}\r\n              onClick={(event) => keySelectHandler(i)}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(PianoLayout);","import React, {useCallback, useMemo, useState} from 'react';\r\nimport SwipeableViews from \"react-swipeable-views\";\r\nimport {sliderModels} from \"../util/InitializationConstants\";\r\nimport Controller from \"../controller/Controller\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"../../styles/layout/Drawer.module.css\"\r\nimport PianoLayout from \"./PianoLayout\";\r\nimport Dots from \"material-ui-dots\";\r\n\r\nconst ControllerBLayout = (props) => {\r\n  const arpeggiatorController = useMemo(() => {\r\n    return {\r\n      snackbarCallback: props.snackbarCallback,\r\n      sliders: [{\r\n        sliderModel: sliderModels.get(\"arpeggiator-speed-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setArpeggiatorSpeed(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"arpeggiator-octave-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setArpeggiatorOctaves(value)\r\n      }]\r\n    }\r\n  }, [props.snackbarCallback, props.audioContext]);\r\n  const auxEffectsController = useMemo(() => {\r\n    return {\r\n      snackbarCallback: props.snackbarCallback,\r\n      sliders: [{\r\n        sliderModel: sliderModels.get(\"delay-time-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setDelayTime(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"delay-feedback-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setDelayFeedback(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"delay-mix-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setDelayMix(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"reverb-mix-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setReverbMix(value)\r\n      }]\r\n    }\r\n  }, [props.snackbarCallback, props.audioContext]);\r\n\r\n  {console.log(\"Rendering Controller B\")}\r\n\r\n  const [index, setIndex] = useState(0);\r\n  const indexChangeCallback = useCallback((value) => setIndex(value), []);\r\n  const pianoKeySelectCallback = useCallback(\r\n    (keysArray) => props.audioContext.setArpeggiatorSemitones(keysArray),\r\n    [props.audioContext]);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.relativeBox}>\r\n        <SwipeableViews className={styles.sliderContainer}\r\n                        enableMouseEvents\r\n                        resistance\r\n                        animateHeight\r\n                        onChangeIndex={indexChangeCallback}>\r\n          <Controller {...arpeggiatorController} />\r\n          <PianoLayout keySelectionCallback={pianoKeySelectCallback}/>\r\n          <Controller {...auxEffectsController} />\r\n        </SwipeableViews>\r\n        <Dots className={styles.sliderPagination} count={3} index={index}/>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nControllerBLayout.propTypes = {\r\n  audioContext: PropTypes.object.isRequired,\r\n  snackbarCallback: PropTypes.func.isRequired\r\n}\r\n\r\nexport default React.memo(ControllerBLayout);","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport styles from \"../../styles/layout/Drawer.module.css\"\r\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\r\nimport ThemeProvider from \"@material-ui/styles/ThemeProvider\";\r\nimport {Divider} from \"@material-ui/core\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport PropTypes from 'prop-types';\r\nimport {initializationConstants} from \"../util/InitializationConstants\";\r\n\r\nconst BottomDrawer = (props) => {\r\n\r\n  const horizontalSliderTheme = createMuiTheme({\r\n    overrides: {\r\n      MuiSlider: {\r\n        thumb: {\r\n          color: \"#29DFF9\",\r\n        },\r\n        track: {\r\n          color: '#29DFF9'\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  console.log(\"Rendering bottom drawer\")\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.bottomDrawerSwitches}>\r\n        <FormControl>\r\n          <FormGroup>\r\n            <FormControlLabel\r\n              value=\"displayAnimation\"\r\n              control={\r\n                <Switch color=\"primary\" defaultChecked={initializationConstants.displayAnimation}\r\n                        onChange={(event) => props.graphicsContext.setDisplayAnimation(event.target.checked)}/>\r\n              }\r\n              label=\"Display animation\"\r\n              labelPlacement=\"end\"/>\r\n            <FormControlLabel\r\n              value=\"displayWaveform\"\r\n              control={\r\n                <Switch color=\"primary\" defaultChecked={initializationConstants.displayWaveform}\r\n                        onChange={(event) => props.graphicsContext.setDisplayWaveform(event.target.checked)}/>\r\n              }\r\n              label=\"Display waveform\"\r\n              labelPlacement=\"end\"/>\r\n            <FormControlLabel\r\n              value=\"displayNotes\"\r\n              control={\r\n                <Switch color=\"primary\" defaultChecked={initializationConstants.displayNotes}\r\n                        onChange={(event) => props.toggleNoteInfoCallback(event.target.checked)}/>\r\n              }\r\n              label=\"Display Notes\"\r\n              labelPlacement=\"end\"/>\r\n          </FormGroup>\r\n        </FormControl>\r\n      </div>\r\n\r\n      <Divider variant={\"middle\"}/>\r\n\r\n      <div className={styles.bottomDrawerSliderSection}>\r\n        <div className={styles.bottomDrawerSliderAndLabelGroup}>\r\n          <Typography id=\"current-octave-slider\" gutterBottom>\r\n            Current octave\r\n          </Typography>\r\n          <ThemeProvider theme={horizontalSliderTheme}>\r\n            <Slider\r\n              defaultValue={initializationConstants.startingOctave}\r\n              aria-labelledby=\"current-octave-slider\"\r\n              valueLabelDisplay=\"auto\"\r\n              step={1}\r\n              marks\r\n              min={1}\r\n              max={7}\r\n              onChangeCommitted={(_, value) => props.audioContext.setCurrentOctave(value)}/>\r\n          </ThemeProvider>\r\n        </div>\r\n\r\n        <div className={styles.bottomDrawerSliderAndLabelGroup}>\r\n          <Typography id=\"animation-speed-slider\" gutterBottom>\r\n            Animation speed\r\n          </Typography>\r\n          <ThemeProvider theme={horizontalSliderTheme}>\r\n            <Slider\r\n              defaultValue={initializationConstants.animationSpeed}\r\n              aria-labelledby=\"animation-speed-slider\"\r\n              valueLabelDisplay=\"auto\"\r\n              step={1}\r\n              marks\r\n              min={1}\r\n              max={5}\r\n              onChangeCommitted={(_, value) => props.graphicsContext.setAnimationSpeed(value)}/>\r\n          </ThemeProvider>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nBottomDrawer.propTypes = {\r\n  audioContext: PropTypes.object.isRequired,\r\n  graphicsContext: PropTypes.object.isRequired,\r\n  toggleNoteInfoCallback: PropTypes.func.isRequired\r\n}\r\n\r\nexport default React.memo(BottomDrawer);","import React from 'react';\r\nimport {Container, Divider, SwipeableDrawer} from \"@material-ui/core\";\r\nimport ControllerALayout from \"./ControllerALayout\";\r\nimport ControllerBLayout from \"./ControllerBLayout\";\r\nimport styles from \"../../styles/layout/Drawer.module.css\"\r\nimport BottomDrawer from \"./BottomDrawer\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ControllerDrawer = (props) => {\r\n\r\n  const textDeclaration = (\r\n    <>\r\n      Copyleft 2020 &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;   &lt;/&gt; with &lt;3 by <a\r\n      href=\"https://github.com/Thrifleganger/cloud-inversion\">Akash Murthy</a>\r\n    </>\r\n  )\r\n  return (\r\n    <>\r\n      <SwipeableDrawer onClose={props.toggleSliderDrawer(false)} onOpen={props.toggleSliderDrawer(true)}\r\n                       open={props.isSliderControllerOpen} swipeAreaWidth={150} anchor={\"top\"} keepMounted={true}>\r\n        <div className={styles.sliderDrawer}>\r\n          <Container maxWidth=\"sm\">\r\n            <ControllerALayout audioContext={props.audioContext} snackbarCallback={props.snackbarCallback}/>\r\n            <Divider variant={\"middle\"}/>\r\n            <ControllerBLayout audioContext={props.audioContext} snackbarCallback={props.snackbarCallback}/>\r\n          </Container>\r\n        </div>\r\n        <div className={styles.drawerHandleTop}/>\r\n      </SwipeableDrawer>\r\n      <SwipeableDrawer onClose={props.toggleBottomDrawer(false)} onOpen={props.toggleBottomDrawer(true)}\r\n                       open={props.isBottomDrawerOpen} swipeAreaWidth={50} anchor={\"bottom\"} keepMounted={true}>\r\n        <div className={styles.bottomDrawer}>\r\n          <div className={styles.drawerHandleBottom}/>\r\n          <Container maxWidth=\"sm\">\r\n            <BottomDrawer audioContext={props.audioContext}\r\n                          graphicsContext={props.graphicsContext}\r\n                          toggleNoteInfoCallback={props.toggleNoteInfoCallback}/>\r\n          </Container>\r\n          <div className={styles.textDeclaration}>\r\n            {textDeclaration}\r\n          </div>\r\n        </div>\r\n      </SwipeableDrawer>\r\n    </>\r\n  );\r\n}\r\n\r\nControllerDrawer.propTypes = {\r\n  toggleSliderDrawer: PropTypes.func.isRequired,\r\n  isSliderControllerOpen: PropTypes.bool.isRequired,\r\n  isBottomDrawerOpen: PropTypes.bool.isRequired,\r\n  toggleBottomDrawer: PropTypes.func.isRequired,\r\n  audioContext: PropTypes.object.isRequired,\r\n  graphicsContext: PropTypes.object.isRequired,\r\n  snackbarCallback: PropTypes.func.isRequired,\r\n  toggleNoteInfoCallback: PropTypes.func.isRequired\r\n}\r\n\r\nexport default React.memo(ControllerDrawer);","import React from \"react\";\r\nimport styles from \"../../styles/layout/MainLayout.module.css\"\r\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\r\n\r\nconst SplashScreen = (props) => {\r\n\r\n  return (\r\n    <div className={styles.splashScreen}>\r\n      <div className={styles.splashScreenButton}>\r\n        <PlayCircleOutlineIcon\r\n          htmlColor={\"#4b3092\"} fontSize={\"large\"} onClick={props.startAudioContext} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SplashScreen","import React from 'react';\r\nimport styles from \"../../styles/layout/MainLayout.module.css\";\r\n\r\nconst NoteInfo = () => {\r\n\r\n  const notes = [\"C\", \"C<sub>#</sub>\", \"D\", \"D<sub>#</sub>\",\r\n    \"E\", \"F\", \"F<sub>#</sub>\", \"G\", \"G<sub>#</sub>\", \"A\", \"A<sub>#</sub>\", \"B\"];\r\n  const notesInfo = (\r\n    <>\r\n      {notes.map(note => <span dangerouslySetInnerHTML={{__html: note}} key={note}/>)}\r\n    </>\r\n  )\r\n\r\n  return (\r\n    <div className={styles.notesInfoSection}>\r\n      {notesInfo}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(NoteInfo);","import React, {useCallback, useState} from 'react';\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport PropTypes from 'prop-types';\r\nimport ControllerDrawer from \"./ControllerDrawer\";\r\nimport styles from \"../../styles/layout/MainLayout.module.css\"\r\nimport SplashScreen from \"./SplashScreen\";\r\nimport NoteInfo from \"./NoteInfo\";\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\r\n\r\n\r\nconst MainLayout = (props) => {\r\n\r\n  const [isSliderControllerOpen, setSliderControllerOpen] = useState(false);\r\n  const [isBottomDrawerOpen, setBottomDrawerOpen] = useState(false);\r\n  const [isSnackbarOpen, setSnackbarOpen] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState(\"\");\r\n  const [isAppLoaded, setAppLoaded] = useState(false);\r\n  const [shouldDisplayInfo, setDisplayInfo] = useState(false);\r\n\r\n  const startAudioContext = useCallback(() => {\r\n    props.audioContext.start()\r\n    setAppLoaded(true);\r\n  }, [props.audioContext]);\r\n\r\n  const toggleSliderDrawer = useCallback((isOpen) => (event) => {\r\n      if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n        return;\r\n      }\r\n      setSliderControllerOpen(isOpen);\r\n    }, []\r\n  );\r\n\r\n  const toggleBottomDrawer = useCallback((isOpen) => (event) => {\r\n      if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n        return;\r\n      }\r\n      setBottomDrawerOpen(isOpen);\r\n    }, []\r\n  );\r\n\r\n  const snackbarCallback = useCallback(\r\n    (message) => {\r\n      setSnackbarOpen(true);\r\n      setSnackbarMessage(message);\r\n    }, []\r\n  );\r\n\r\n  const toggleNoteInfoCallback = useCallback((value) => setDisplayInfo(value), []);\r\n\r\n  return (\r\n    <>\r\n      <ControllerDrawer toggleSliderDrawer={toggleSliderDrawer}\r\n                        isSliderControllerOpen={isSliderControllerOpen}\r\n                        isBottomDrawerOpen={isBottomDrawerOpen}\r\n                        toggleBottomDrawer={toggleBottomDrawer}\r\n                        audioContext={props.audioContext}\r\n                        graphicsContext={props.graphicsContext}\r\n                        snackbarCallback={snackbarCallback}\r\n                        toggleNoteInfoCallback={toggleNoteInfoCallback}/>\r\n      <Snackbar className={styles.snackbarLayout}\r\n                open={isSnackbarOpen}\r\n                autoHideDuration={3000}\r\n                onClose={() => setSnackbarOpen(false)}\r\n                message={snackbarMessage}\r\n                anchorOrigin={{vertical: 'bottom', horizontal: 'center'}}/>\r\n      <div className={styles.topDrawerExpanderCue}>\r\n        <ExpandMoreIcon fontSize={\"small\"}/>\r\n      </div>\r\n      <div className={styles.bottomDrawerExpanderCue}>\r\n        <ExpandLessIcon fontSize={\"small\"}/>\r\n      </div>\r\n      {shouldDisplayInfo ? (<NoteInfo/>) : \"\"}\r\n      {isAppLoaded ? \"\" : (<SplashScreen startAudioContext={startAudioContext}/>)}\r\n    </>\r\n  );\r\n}\r\n\r\nMainLayout.propTypes = {\r\n  audioContext: PropTypes.object.isRequired,\r\n  graphicsContext: PropTypes.object.isRequired\r\n}\r\n\r\nexport default MainLayout;","import {Midi} from \"tone\";\r\n\r\nexport const rangeMap = (value, x1, y1, x2, y2) => (value - x1) * (y2 - x2) / (y1 - x1) + x2;\r\n\r\nexport const convertXToFrequency = (x, currentOctave, isFullScale = false) => {\r\n  return Midi(Math.floor(convertXToNoteNumber(x, currentOctave))).toFrequency();\r\n}\r\n\r\nexport const convertXToNoteNumber = (x, currentOctave, isFullScale = false) => {\r\n  return Math.floor(currentOctave * 12 + 12 + rangeMap(x, 0, window.innerWidth, 0, 12));\r\n}\r\n\r\nexport const convertYToVelocity = (y) => {\r\n  return rangeMap(y, 0, window.innerHeight, 0, 1);\r\n}","import {Channel, Destination, Filter, Gain, LFO, Panner, PingPongDelay, Reverb, start} from 'tone'\r\nimport {rangeMap} from \"../util/Util\";\r\nimport {sliderModels, initializationConstants} from \"../util/InitializationConstants\";\r\n\r\nclass AudioContext {\r\n\r\n  constructor() {\r\n    this.instrument = null;\r\n    this.volume = sliderModels.get(\"volume-slider\").defaultValue;\r\n    this.pan = sliderModels.get(\"pan-slider\").defaultValue;\r\n    this.variance = sliderModels.get(\"variance-slider\").defaultValue;\r\n\r\n    this.attack = sliderModels.get(\"attack-slider\").defaultValue;\r\n    this.decay = sliderModels.get(\"decay-slider\").defaultValue;\r\n    this.sustain = sliderModels.get(\"sustain-slider\").defaultValue;\r\n    this.release = sliderModels.get(\"release-slider\").defaultValue;\r\n\r\n    this.delayTime = sliderModels.get(\"delay-time-slider\").defaultValue;\r\n    this.delayFeedback = sliderModels.get(\"delay-feedback-slider\").defaultValue;\r\n    this.delayMix = sliderModels.get(\"delay-mix-slider\").defaultValue;\r\n    this.reverbMix = sliderModels.get(\"reverb-mix-slider\").defaultValue;\r\n\r\n    this.arpeggiatorSpeed = sliderModels.get(\"arpeggiator-speed-slider\").defaultValue;\r\n    this.arpeggiatorOctaves = sliderModels.get(\"arpeggiator-octave-slider\").defaultValue;\r\n    this.arpeggiatorSemitones = initializationConstants.arpeggiatorSemitones;\r\n\r\n    this.currentOctave = initializationConstants.startingOctave;\r\n  }\r\n\r\n  start() {\r\n    console.log(\"Started audio context\");\r\n    start().then();\r\n  }\r\n\r\n  initialize(instrument) {\r\n    console.log(\"Initializing audioContext\");\r\n    this.instrument = instrument;\r\n    this.instrument.initialize(this);\r\n    const {patch} = this.instrument;\r\n\r\n    patch.volume = new Gain(this.volume, \"normalRange\");\r\n    patch.pan = new Panner(this.pan);\r\n    patch.tone = new Filter({\r\n      type: \"lowpass\",\r\n      frequency: 100\r\n    });\r\n    patch.lfo = new LFO(0.1, 300, 10000)\r\n    patch.lfo.start();\r\n\r\n    patch.delay = new PingPongDelay({\r\n      delayTime: this.delayTime,\r\n      maxDelayTime: 4\r\n    });\r\n    this.setDelayFeedback(this.delayFeedback)\r\n    this.setDelayMix(this.delayMix);\r\n    patch.reverb = new Reverb(10);\r\n    this.setReverbMix(this.reverbMix);\r\n\r\n    patch.mainChannel = new Channel();\r\n    patch.reverbChannel = new Channel();\r\n    patch.delayChannel = new Channel();\r\n    patch.synth.connect(patch.volume);\r\n    patch.volume.connect(patch.pan);\r\n    patch.pan.connect(patch.tone);\r\n    patch.lfo.connect(patch.tone.frequency);\r\n    patch.tone.connect(patch.mainChannel);\r\n    patch.mainChannel.send(\"delay-bus\", -10);\r\n    patch.mainChannel.send(\"reverb-bus\", -10);\r\n    patch.delayChannel.receive(\"delay-bus\");\r\n    patch.reverbChannel.receive(\"reverb-bus\");\r\n    patch.delayChannel.connect(patch.delay);\r\n    patch.reverbChannel.connect(patch.reverb);\r\n    const finalOutputNode = new Gain(1, \"normalRange\");\r\n    patch.delay.connect(finalOutputNode);\r\n    patch.reverb.connect(finalOutputNode);\r\n\r\n    finalOutputNode.connect(Destination);\r\n  }\r\n\r\n  handleGenericTriggerEvent = (coordinates) => {\r\n    this.instrument.triggerAttack(coordinates, this.currentOctave);\r\n  }\r\n\r\n  handleGenericReleaseEvent = (_) => {\r\n    this.instrument.triggerRelease();\r\n  }\r\n\r\n  setVolume(volume) {\r\n    this.volume = volume;\r\n    this.instrument.patch.volume.gain.value = volume;\r\n  }\r\n  setPan(pan) {\r\n    this.pan = pan;\r\n    this.instrument.patch.pan.pan.value = this.pan;\r\n  }\r\n  setVariance(variance) {\r\n    this.variance = variance;\r\n    this.instrument.patch.lfo.min = rangeMap(this.variance, 0, 1, 2000, 300);\r\n    this.instrument.patch.lfo.max = rangeMap(this.variance, 0, 1, 2000, 10000);\r\n  }\r\n\r\n  setAttack(attack) {\r\n    this.attack = attack;\r\n    this.instrument.setEnvelope(this.attack, this.decay, this.sustain, this.release);\r\n  }\r\n  setDecay(decay) {\r\n    this.decay = decay;\r\n    this.instrument.setEnvelope(this.attack, this.decay, this.sustain, this.release);\r\n  }\r\n  setSustain(sustain) {\r\n    this.sustain = sustain;\r\n    this.instrument.setEnvelope(this.attack, this.decay, this.sustain, this.release);\r\n  }\r\n  setRelease(release) {\r\n    this.release = release;\r\n    this.instrument.setEnvelope(this.attack, this.decay, this.sustain, this.release);\r\n  }\r\n\r\n  setDelayTime(delayTime) {\r\n    this.delayTime = delayTime;\r\n    this.instrument.patch.delay.delayTime.value = this.delayTime;\r\n  }\r\n  setDelayFeedback(feedback) {\r\n    this.delayFeedback = feedback;\r\n    this.instrument.patch.delay.feedback.value = this.delayFeedback;\r\n  }\r\n  setDelayMix(mix) {\r\n    this.delayMix = mix;\r\n    this.instrument.patch.delay.wet.value = this.delayMix;\r\n  }\r\n  setReverbMix(mix) {\r\n    this.reverbMix = mix;\r\n    this.instrument.patch.reverb.wet.value = this.reverbMix;\r\n  }\r\n\r\n  setArpeggiatorSpeed(speed) {\r\n    this.arpeggiatorSpeed = speed;\r\n    if (this.instrument.id === \"arpeggiator\") {\r\n      this.instrument.setPlaybackRate(speed);\r\n    }\r\n  }\r\n  setArpeggiatorOctaves(octaves) {\r\n    this.arpeggiatorOctaves = octaves;\r\n    if (this.instrument.id === \"arpeggiator\") {\r\n      this.instrument.setOctaves(octaves);\r\n    }\r\n  }\r\n  setArpeggiatorSemitones(semitonesArray) {\r\n    this.arpeggiatorSemitones = semitonesArray;\r\n    if (this.instrument.id === \"arpeggiator\") {\r\n      this.instrument.setArpeggiatorSemitones(semitonesArray);\r\n    }\r\n  }\r\n\r\n  setCurrentOctave(currentOctave) {\r\n    this.currentOctave = currentOctave;\r\n  }\r\n}\r\n\r\nexport default AudioContext;","export default class Patch {\r\n  constructor() {\r\n    this.volume = null;\r\n    this.pan = null;\r\n    this.tone = null;\r\n    this.synth = null;\r\n    this.reverb = null;\r\n    this.delay = null;\r\n    this.envelope = null;\r\n  }\r\n}","import Patch from \"./AudioPatch\";\r\nimport {Synth, Pattern, Midi, Transport} from 'tone'\r\nimport {convertXToNoteNumber, convertYToVelocity} from \"../util/Util\";\r\n\r\nclass Arpeggiator {\r\n  constructor() {\r\n    this.id = \"arpeggiator\";\r\n    this.patch = new Patch();\r\n    this.numberOfOctaves = null;\r\n    this.playbackRate = null;\r\n    this.semitones = null;\r\n    this.audioContext = null;\r\n  }\r\n\r\n  initialize(audioContext) {\r\n    console.log(\"Initializing argpeggiator\");\r\n    this.audioContext = audioContext;\r\n    this.patch.synth = new Synth({\r\n      oscillator: {\r\n        type: \"sawtooth\"\r\n      }\r\n    });\r\n    this.patch.pattern = new Pattern({\r\n      pattern: \"upDown\"\r\n    });\r\n    this.patch.pattern.interval = \"16n\";\r\n    this.setEnvelope(audioContext.attack, audioContext.decay, audioContext.sustain, audioContext.release);\r\n    this.playbackRate = audioContext.arpeggiatorSpeed;\r\n    this.numberOfOctaves = audioContext.arpeggiatorOctaves;\r\n    this.semitones = audioContext.arpeggiatorSemitones;\r\n  }\r\n\r\n  triggerAttack(coordinates, currentOctave) {\r\n    Transport.start();\r\n    const {pattern, synth} = this.patch;\r\n    let notes = [];\r\n    for (let i of Array(Math.round(this.numberOfOctaves)).keys()) {\r\n      notes = notes.concat(this.semitones.map(note => note + (i * 12)));\r\n    }\r\n    const velocity = convertYToVelocity(coordinates[0].y, currentOctave);\r\n    pattern.callback = (time, note) => synth.triggerAttackRelease(note, \"16n\", undefined, velocity);\r\n    const midiNoteNumber = convertXToNoteNumber(coordinates[0].x, currentOctave);\r\n    pattern.values = notes.map(note => Math.floor(Midi(note + midiNoteNumber).toFrequency()));\r\n    pattern.playbackRate = this.playbackRate;\r\n    pattern.start();\r\n  }\r\n\r\n  triggerRelease(coordinates) {\r\n    this.patch.pattern.stop();\r\n    Transport.stop();\r\n  }\r\n\r\n  setArpeggiatorSemitones(array) {\r\n    this.semitones = [...array];\r\n  }\r\n\r\n  setOctaves(octaves) {\r\n    this.numberOfOctaves = octaves;\r\n  }\r\n\r\n  setPlaybackRate(speed) {\r\n    this.playbackRate = speed;\r\n    this.patch.pattern.playbackRate = speed;\r\n  }\r\n\r\n  setEnvelope(attack, decay, sustain, release) {\r\n    const {envelope:env} = this.patch.synth;\r\n    env.attack = attack\r\n    env.decay = decay;\r\n    env.sustain = sustain;\r\n    env.release = release;\r\n  }\r\n}\r\n\r\nexport default Arpeggiator;\r\n","import React, {Component} from 'react';\r\nimport Arpeggiator from \"../audio/Arpeggiator\";\r\n\r\nclass AudioCanvas extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {width: 0, height: 0};\r\n    this.isTouchActivated = false;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateWindowDimensions();\r\n    window.addEventListener('resize', this.updateWindowDimensions);\r\n    this.props.audioContext.initialize(new Arpeggiator());\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.updateWindowDimensions);\r\n  }\r\n\r\n  updateWindowDimensions = () => {\r\n    this.setState({width: window.innerWidth, height: window.innerHeight});\r\n  }\r\n\r\n  render() {\r\n    const style = {\r\n      position: \"absolute\",\r\n      left: 0,\r\n      top: 0,\r\n      height: this.state.height,\r\n      width: this.state.width\r\n    }\r\n    return (\r\n      <div style={style}\r\n           onMouseDown={event => this.handleGenericPressEvent([{x: event.clientX, y: event.clientY}]) }\r\n           onMouseUp={() => this.handleGenericReleasedEvent([])}\r\n           onTouchStart={(event) => {\r\n             if (this.isTouchActivated) {\r\n               return;\r\n             }\r\n             if (event.targetTouches.length === 0) {\r\n               return;\r\n             }\r\n             this.isTouchActivated = true;\r\n             this.handleGenericPressEvent([{\r\n               x: event.targetTouches.item(0).clientX,\r\n               y: event.targetTouches.item(0).clientY\r\n             }]);\r\n             /*const coordinates = Array(event.touches.length).fill()\r\n               .flatMap((_,i) => [{x: event.touches.item(i).clientX, y: event.touches.item(i).clientY}])\r\n             this.handleGenericPressEvent(coordinates);*/\r\n           }}\r\n           onTouchEnd={(event) => {\r\n\r\n             if (event.targetTouches.length !== 0) {\r\n               return;\r\n             }\r\n             this.isTouchActivated = false;\r\n             this.handleGenericReleasedEvent(event);\r\n           }}/>\r\n    );\r\n  }\r\n\r\n  handleGenericPressEvent = (coordinates) => {\r\n    this.props.audioContext.handleGenericTriggerEvent(coordinates)\r\n  }\r\n\r\n  handleGenericReleasedEvent = (coordinates) => {\r\n    this.props.audioContext.handleGenericReleaseEvent(coordinates);\r\n  }\r\n}\r\n\r\nexport default AudioCanvas;\r\n","class PrimeMover {\r\n\r\n  constructor(id, coordinates, p5, previousMover, properties) {\r\n    this.p5 = p5;\r\n    this.id = id;\r\n    this.location = p5.createVector(coordinates.x, coordinates.y);\r\n    this.velocity = p5.createVector(0, - properties.animationSpeed);\r\n    this.connectionThreshold = p5.height/2;\r\n    this.previousMover = previousMover;\r\n    this.properties = properties;\r\n  }\r\n\r\n  update() {\r\n    this.location.add(this.velocity);\r\n    if (this.isOutOfCanvas()) {\r\n      this.destroyCallback();\r\n    } else {\r\n      this.display();\r\n      this.drawConnection()\r\n    }\r\n  }\r\n\r\n  isOutOfCanvas() {\r\n    return this.location.y < 0;\r\n  }\r\n\r\n  display() {\r\n    this.p5.noStroke();\r\n    this.p5.fill(this.properties.primeMoverColor);\r\n    const {height} = this.p5;\r\n    const size = this.p5.map(this.location.y, 0, height, 10, 50);\r\n    this.p5.ellipse(this.location.x, this.location.y, size, size);\r\n  }\r\n\r\n  registerDestructionCallback(destroyCallback) {\r\n    this.destroyCallback = destroyCallback;\r\n  }\r\n\r\n  drawConnection() {\r\n    if (this.previousMover == null) {\r\n      return;\r\n    }\r\n    const {x:prevX, y:prevY} = this.previousMover.location\r\n    if (Math.abs(this.location.y - prevY) > this.connectionThreshold) {\r\n      this.previousMover = null;\r\n      return;\r\n    }\r\n    this.p5.stroke(this.properties.primeMoverColor);\r\n    this.p5.noFill();\r\n    this.p5.strokeWeight(1.5);\r\n    let diffX = (this.location.x - prevX)/2;\r\n    let diffY = (this.location.y - prevY)/2;\r\n    if(diffY < 50) diffY = this.p5.random(-50, 50);\r\n    if(diffX < 50) diffX = this.p5.random(-50, 50);\r\n    this.p5.bezier(\r\n      this.location.x, this.location.y,\r\n      this.location.x - this.p5.random(0,diffX), this.location.y - this.p5.random(0,diffY),\r\n      prevX + this.p5.random(0,diffX), prevY + this.p5.random(0,diffY),\r\n      prevX, prevY);\r\n  }\r\n}\r\n\r\nexport default PrimeMover;","import {v4 as uuid} from 'uuid'\r\n\r\nclass SecondaryMoverSystem {\r\n\r\n  constructor(id, coordinates, p5, properties) {\r\n    this.p5 = p5;\r\n    this.id = id;\r\n    this.coordinates = coordinates;\r\n    this.secondaryMovers = new Map();\r\n    this.destroyCallback = null;\r\n    this.destructionInitiated = false;\r\n\r\n    this.intervalId = setInterval(() => {\r\n      const moverId = uuid();\r\n      this.secondaryMovers.set(moverId, new SecondaryMover(\r\n        moverId,\r\n        coordinates.x,\r\n        p5,\r\n        properties.animationSpeed,\r\n        properties.secondaryMoverColor,\r\n        (mover) => this.deleteMover(mover)));\r\n    }, Number.parseInt(p5.random(30, 150)));\r\n  }\r\n\r\n  update() {\r\n    if (this.secondaryMovers.length === 0 && this.destructionInitiated) {\r\n      this.destroyCallback();\r\n    }\r\n    this.secondaryMovers.forEach(mover => mover.update());\r\n  }\r\n\r\n  deleteMover(mover) {\r\n    this.secondaryMovers.delete(mover.id);\r\n    mover = null;\r\n  }\r\n\r\n  registerDestructionCallback(destroyCallback) {\r\n    this.destroyCallback = destroyCallback;\r\n  }\r\n\r\n  initiateDestruction() {\r\n    clearInterval(this.intervalId);\r\n    this.destructionInitiated = true;\r\n  }\r\n}\r\n\r\nexport default SecondaryMoverSystem;\r\n\r\nclass SecondaryMover {\r\n\r\n  constructor(id, x, p5, speed, color, deleteCallback) {\r\n    this.id = id;\r\n    this.p5 = p5;\r\n    this.deleteCallback = deleteCallback;\r\n    let initialSpeed = - speed * p5.random(2,4);\r\n    this.size = p5.random(p5.width * 0.01, p5.width * 0.05);\r\n    this.location = p5.createVector(p5.random(x - (p5.width * 0.0625), x + (p5.width * 0.0625)), p5.height + 20)\r\n    this.velocity = p5.createVector(0, initialSpeed);\r\n    this.color = color;\r\n    this.alpha = Number.parseInt(p5.random(50, 200));\r\n  }\r\n\r\n  update() {\r\n    this.location.add(this.velocity);\r\n    if (this.isOutOfCanvas()) {\r\n      this.deleteCallback(this);\r\n    } else {\r\n      this.display();\r\n    }\r\n  }\r\n\r\n  isOutOfCanvas() {\r\n    return this.location.y < 0;\r\n  }\r\n\r\n  display() {\r\n    this.p5.noStroke();\r\n    this.p5.fill(this.p5.color(\r\n      this.p5.red(this.color),\r\n      this.p5.green(this.color),\r\n      this.p5.blue(this.color),\r\n      this.alpha)\r\n    );\r\n    this.p5.ellipse(this.location.x, this.location.y, this.size, this.size);\r\n  }\r\n}","import p5 from 'p5';\r\nimport PrimeMover from \"./PrimeMover\";\r\nimport {v4 as uuid} from 'uuid'\r\nimport SecondaryMoverSystem from \"./SecondaryMoverSystem\";\r\nimport {initializationConstants} from \"../util/InitializationConstants\";\r\n\r\nclass GraphicsContext {\r\n  constructor() {\r\n    this.myP5 = null;\r\n    this.primeMovers = new Map();\r\n    this.secondaryMoverSystems = new Map();\r\n    this.previousPrimeMover = null;\r\n    this.isTouchActivated = false;\r\n\r\n    this.moverProperties = {\r\n      animationSpeed: initializationConstants.animationSpeed,\r\n      primeMoverColor: initializationConstants.primeMoverColor,\r\n      secondaryMoverColor: initializationConstants.secondaryMoverColor\r\n    }\r\n    this.shouldDisplayAnimation = true;\r\n    this.shouldDisplayWaveform = true;\r\n    this.shouldDisplayInfo = false;\r\n  }\r\n\r\n  initialize(domReference) {\r\n    this.myP5 = new p5(this.sketch, domReference);\r\n  }\r\n\r\n  sketch = (p) => {\r\n\r\n    p.setup = () => {\r\n      console.log(\"Setup\");\r\n      p.createCanvas(p.windowWidth, p.windowHeight);\r\n    }\r\n\r\n    p.draw = () => {\r\n      p.clear();\r\n      if (this.shouldDisplayAnimation) {\r\n        this.primeMovers.forEach(primeMover => primeMover.update());\r\n        this.secondaryMoverSystems.forEach(system => system.update());\r\n      }\r\n    }\r\n\r\n    p.windowResized = () => {\r\n      p.resizeCanvas(p.windowWidth, p.windowHeight);\r\n    }\r\n\r\n    p.touchStarted = (event) => {\r\n      if (this.isTouchActivated) {\r\n        return;\r\n      }\r\n      if (event.targetTouches.length === 0) {\r\n        return;\r\n      }\r\n      this.isTouchActivated = true;\r\n      this.handleGenericPressEvent([{\r\n        x: event.targetTouches.item(0).clientX,\r\n        y: event.targetTouches.item(0).clientY\r\n      }]);\r\n      // Handle multiple touches\r\n      /*const coordinates = Array(event.targetTouches.length).fill()\r\n        .flatMap((_, i) => [{x: event.touches.item(i).clientX, y: event.touches.item(i).clientY}])\r\n      this.handleGenericPressEvent(coordinates)*/\r\n    }\r\n\r\n    p.mousePressed = (event) => {\r\n      this.handleGenericPressEvent([{x: event.x, y: event.y}]);\r\n    }\r\n\r\n    p.touchEnded = (event) => {\r\n      if (event.targetTouches.length !== 0) {\r\n        return;\r\n      }\r\n      this.isTouchActivated = false;\r\n      this.handleGenericReleasedEvent(event);\r\n    }\r\n\r\n    p.mouseReleased = () => {\r\n      this.handleGenericReleasedEvent([]);\r\n    }\r\n  }\r\n\r\n  handleGenericPressEvent = (coordinates) => {\r\n    if (!this.shouldDisplayAnimation) {\r\n      return;\r\n    }\r\n    coordinates.forEach(coordinate => {\r\n      const primaryMoverId = uuid();\r\n      const primeMover = new PrimeMover(\r\n        primaryMoverId,\r\n        coordinate,\r\n        this.myP5,\r\n        this.previousPrimeMover,\r\n        this.moverProperties\r\n      );\r\n      primeMover.registerDestructionCallback(() => this.handlePrimeMoverDestruction(primeMover));\r\n      this.primeMovers.set(primaryMoverId, primeMover);\r\n      this.previousPrimeMover = primeMover;\r\n\r\n      const secondaryMoverSystemId = uuid();\r\n      const secondaryMoverSystem = new SecondaryMoverSystem(\r\n        secondaryMoverSystemId,\r\n        coordinate,\r\n        this.myP5,\r\n        this.moverProperties\r\n      );\r\n      this.secondaryMoverSystems.set(secondaryMoverSystemId, secondaryMoverSystem);\r\n      secondaryMoverSystem.registerDestructionCallback(\r\n        () =>this.handleSecondaryMoverSystemDestruction(secondaryMoverSystem));\r\n    });\r\n  }\r\n\r\n  handleGenericReleasedEvent = (_) => {\r\n    if (!this.shouldDisplayAnimation) {\r\n      return;\r\n    }\r\n    this.secondaryMoverSystems.forEach(system => system.initiateDestruction());\r\n  }\r\n\r\n  handlePrimeMoverDestruction(primeMover) {\r\n    this.primeMovers.delete(primeMover.id);\r\n    primeMover = null;\r\n  }\r\n\r\n  handleSecondaryMoverSystemDestruction(system) {\r\n    this.secondaryMoverSystems.delete(system.id);\r\n    system = null;\r\n  }\r\n\r\n  setDisplayAnimation(value) {\r\n    this.shouldDisplayAnimation = value;\r\n  }\r\n\r\n  setDisplayWaveform(value) {\r\n    this.shouldDisplayWaveform = value;\r\n  }\r\n\r\n  setAnimationSpeed(value) {\r\n    this.moverProperties.animationSpeed = value;\r\n  }\r\n}\r\n\r\nexport default GraphicsContext;","import React, {Component} from 'react';\nimport GradientBackground from \"./components/layout/GradientBackground\";\nimport './styles/layout/GradientBackground.module.css'\nimport GraphicsCanvas from \"./components/layout/GraphicsCanvas\";\nimport MainLayout from \"./components/layout/MainLayout\";\nimport AudioContext from \"./components/audio/AudioContext\";\nimport AudioCanvas from \"./components/layout/AudioCanvas\";\nimport GraphicsContext from \"./components/graphics/GraphicsContext\";\n\nclass App extends Component {\n\n  constructor() {\n    super();\n    this.audioContext = new AudioContext();\n    this.graphicsContext = new GraphicsContext();\n  }\n  render() {\n    return (\n      <>\n        <AudioCanvas audioContext={this.audioContext}/>\n        <GraphicsCanvas graphicsContext={this.graphicsContext}/>\n        <GradientBackground/>\n        <MainLayout audioContext={this.audioContext} graphicsContext={this.graphicsContext}/>\n      </>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <App />\n  ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sliderDrawer\":\"Drawer_sliderDrawer__Kk8bO\",\"sliderContainer\":\"Drawer_sliderContainer__1eL8v\",\"sliderLabel\":\"Drawer_sliderLabel__HMnml\",\"sliderPagination\":\"Drawer_sliderPagination__3fxG4\",\"relativeBox\":\"Drawer_relativeBox__11ZmI\",\"drawerHandleTop\":\"Drawer_drawerHandleTop__1VpNB\",\"drawerHandleBottom\":\"Drawer_drawerHandleBottom__2T_0a\",\"bottomDrawer\":\"Drawer_bottomDrawer__2m7uT\",\"bottomDrawerSliderSection\":\"Drawer_bottomDrawerSliderSection__2UCan\",\"bottomDrawerSliderAndLabelGroup\":\"Drawer_bottomDrawerSliderAndLabelGroup__eIFDx\",\"textDeclaration\":\"Drawer_textDeclaration__2jYt_\",\"bottomDrawerSwitches\":\"Drawer_bottomDrawerSwitches__1TTsN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"snackbarLayout\":\"MainLayout_snackbarLayout__347DF\",\"splashScreen\":\"MainLayout_splashScreen__1nveC\",\"splashScreenButton\":\"MainLayout_splashScreenButton__3o43a\",\"notesInfoSection\":\"MainLayout_notesInfoSection__1S99L\",\"topDrawerExpanderCue\":\"MainLayout_topDrawerExpanderCue__1Kzxs\",\"bottomDrawerExpanderCue\":\"MainLayout_bottomDrawerExpanderCue__1_jpC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gradientBackground\":\"GradientBackground_gradientBackground__2-Fo7\",\"gradient\":\"GradientBackground_gradient__mofCM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sketch\":\"ProcessingSketch_sketch__cS6Hq\"};"],"sourceRoot":""}