{"version":3,"sources":["components/layout/GradientBackground.js","components/layout/GraphicsCanvas.js","components/controller/Dial.js","components/controller/Controller.js","components/util/InitializationConstants.js","components/layout/ControllerALayout.js","components/layout/PianoLayout.js","components/layout/ControllerBLayout.js","components/layout/BottomDrawer.js","components/layout/ControllerDrawer.js","components/layout/SplashScreen.js","components/layout/NoteInfo.js","components/layout/MainLayout.js","components/util/Util.js","components/audio/AudioContext.js","components/audio/AudioPatch.js","components/audio/Arpeggiator.js","components/layout/AudioCanvas.js","components/graphics/PrimeMover.js","components/graphics/SecondaryMoverSystem.js","components/graphics/GraphicsContext.js","App.js","serviceWorker.js","index.js","styles/layout/Drawer.module.css","styles/layout/MainLayout.module.css","styles/layout/GradientBackground.module.css","styles/ProcessingSketch.module.css"],"names":["GradientBackground","console","log","className","styles","gradientBackground","Component","GraphicsCanvas","props","canvasRef","useRef","useEffect","graphicsContext","initialize","current","sketch","ref","Dial","dialRef","React","createRef","this","model","minValue","maxValue","defaultValue","step","parameter","PrecisionInputs","FLStandardKnob","min","max","initial","color","addEventListener","event","changeCallback","snackbarCallback","target","value","memo","sliders","style","width","overflow","Grid","container","justify","alignItems","spacing","map","slider","key","sliderModel","id","item","xs","sliderCallback","sliderLabel","initializationConstants","SliderModel","sliderModels","Map","set","globalController","useMemo","get","audioContext","setVolume","setPan","setVariance","envelopeController","setAttack","setDecay","setSustain","setRelease","useState","index","setIndex","indexChangeCallback","useCallback","relativeBox","sliderContainer","enableMouseEvents","resistance","onChangeIndex","sliderPagination","count","keysActivated","setKeysActivated","keySelectHandler","prevState","sortedKeysArray","includes","filter","i","sort","a","b","keySelectionCallback","x","handleMouseDown","e","screenX","handleClick","Math","abs","preventDefault","type","k","onClick","onMouseDown","arpeggiatorController","setArpeggiatorSpeed","setArpeggiatorOctaves","auxEffectsController","setDelayTime","setDelayFeedback","setDelayMix","setReverbMix","pianoKeySelectCallback","keysArray","setArpeggiatorSemitones","animateHeight","horizontalSliderTheme","createMuiTheme","overrides","MuiSlider","thumb","track","rail","bottomDrawerSwitches","FormControl","FormGroup","FormControlLabel","control","Switch","defaultChecked","onChange","setDisplayAnimation","checked","label","labelPlacement","setDisplaySpectrum","toggleNoteInfoCallback","Divider","variant","bottomDrawerSliderSection","bottomDrawerSliderAndLabelGroup","Typography","gutterBottom","ThemeProvider","theme","Slider","aria-labelledby","valueLabelDisplay","marks","onChangeCommitted","_","setCurrentOctave","setAnimationSpeed","textDeclaration","href","topControllerSection","sliderDrawer","Container","maxWidth","drawerHandleTop","bottomControllerSection","bottomDrawer","drawerHandleBottom","SwipeableDrawer","onClose","toggleSliderDrawer","onOpen","open","isSliderControllerOpen","swipeAreaWidth","anchor","keepMounted","toggleBottomDrawer","isBottomDrawerOpen","Drawer","SplashScreen","splashScreen","startAudioContext","splashScreenIconGrid","splashScreenIconGridFlexbox","splashScreenIconsHorizontal","htmlColor","fontSize","splashScreenTitle","notesInfo","note","dangerouslySetInnerHTML","__html","notesInfoSection","MainLayout","setSliderControllerOpen","setBottomDrawerOpen","isSnackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","isAppLoaded","setAppLoaded","shouldDisplayInfo","setDisplayInfo","start","isOpen","message","topDrawerExpanderCue","bottomDrawerExpanderCue","Snackbar","snackbarLayout","autoHideDuration","anchorOrigin","vertical","horizontal","rangeMap","x1","y1","x2","y2","convertXToNoteNumber","currentOctave","floor","window","innerWidth","AudioContext","handleGenericTriggerEvent","coordinates","instrument","triggerAttack","handleGenericReleaseEvent","triggerRelease","fftAnalyzerCallbackInterval","fftAnalysisArray","volume","pan","variance","attack","decay","sustain","release","delayTime","delayFeedback","delayMix","reverbMix","arpeggiatorSpeed","arpeggiatorOctaves","arpeggiatorSemitones","then","patch","fftAnalyzer","Analyser","size","smoothing","Gain","Panner","tone","Filter","frequency","lfo","LFO","delay","PingPongDelay","maxDelayTime","reverb","Reverb","mainChannel","Channel","reverbChannel","delayChannel","synth","connect","send","receive","finalOutputNode","fan","Destination","setInterval","getValue","gain","setEnvelope","feedback","mix","wet","speed","setPlaybackRate","octaves","setOctaves","semitonesArray","clearInterval","Patch","envelope","Arpeggiator","numberOfOctaves","playbackRate","semitones","Synth","oscillator","pattern","Pattern","interval","Transport","notes","Array","round","keys","concat","y","velocity","innerHeight","callback","time","triggerAttackRelease","undefined","midiNoteNumber","values","Midi","toFrequency","stop","array","env","AudioCanvas","updateWindowDimensions","setState","height","handleGenericPressEvent","handleGenericReleasedEvent","state","isTouchActivated","removeEventListener","position","left","top","clientX","clientY","onMouseUp","onTouchStart","targetTouches","length","onTouchEnd","PrimeMover","p5","previousMover","properties","location","createVector","animationSpeed","connectionThreshold","add","isOutOfCanvas","destroyCallback","display","drawConnection","noStroke","fill","primeMoverColor","ellipse","prevX","prevY","stroke","noFill","strokeWeight","diffX","diffY","random","bezier","SecondaryMoverSystem","secondaryMovers","destructionInitiated","intervalId","moverId","uuid","SecondaryMover","secondaryMoverColor","mover","deleteMover","Number","parseInt","forEach","update","delete","deleteCallback","initialSpeed","alpha","red","green","blue","GraphicsContext","p","setup","createCanvas","windowWidth","windowHeight","draw","clear","shouldDisplayAnimation","primeMovers","primeMover","secondaryMoverSystems","system","shouldDisplaySpectrum","displayWaveform","windowResized","resizeCanvas","touchStarted","mousePressed","touchEnded","mouseReleased","coordinate","primaryMoverId","myP5","previousPrimeMover","moverProperties","registerDestructionCallback","handlePrimeMoverDestruction","secondaryMoverSystemId","secondaryMoverSystem","handleSecondaryMoverSystemDestruction","initiateDestruction","domReference","fftBuffer","getFftBuffer","fftSize","w","rect","beginShape","vertex","endShape","App","setAudioContext","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","module","exports"],"mappings":"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","file":"static/js/main.8773dcaa.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport styles from '../../styles/layout/GradientBackground.module.css';\r\n\r\nclass GradientBackground extends Component {\r\n  render() {\r\n    console.log(\"Rendering gradient\")\r\n    return (\r\n      <div className={styles.gradientBackground}/>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GradientBackground;","import React, {useEffect, useRef} from 'react';\r\nimport styles from '../../styles/ProcessingSketch.module.css'\r\n\r\nconst GraphicsCanvas = (props) => {\r\n\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(\r\n    () => props.graphicsContext.initialize(canvasRef.current),\r\n    [props.graphicsContext]);\r\n\r\n  return (\r\n    <>\r\n      {console.log(\"Rending graphics canvas\")}\r\n      <div className={styles.sketch} ref={canvasRef}/>\r\n    </>\r\n  )\r\n\r\n}\r\n\r\nexport default GraphicsCanvas;","import React, {Component} from 'react';\r\nimport PrecisionInputs from 'precision-inputs/common/precision-inputs.fl-controls';\r\nimport \"precision-inputs/css/precision-inputs.fl-controls.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Dial extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.dialRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {minValue, maxValue, defaultValue, step, parameter} = this.props.model\r\n    const dial = new PrecisionInputs.FLStandardKnob(this.dialRef.current, {\r\n      min: minValue,\r\n      max: maxValue,\r\n      initial: defaultValue,\r\n      step: step,\r\n      color: \"#29DFF9\"\r\n    });\r\n    dial.addEventListener('change', (event) => {\r\n      this.props.changeCallback(event);\r\n      this.props.snackbarCallback(`${parameter} : ${event.target.value}`);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    console.log(`Rendering dial ${this.props.model.parameter}`)\r\n    return (\r\n      <div ref={this.dialRef}/>\r\n    );\r\n  }\r\n}\r\n\r\nDial.propTypes = {\r\n  model: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    parameter: PropTypes.string.isRequired,\r\n    minValue: PropTypes.number.isRequired,\r\n    maxValue: PropTypes.number.isRequired,\r\n    defaultValue: PropTypes.number.isRequired,\r\n    step: PropTypes.number.isRequired\r\n  }),\r\n  changeCallback: PropTypes.func.isRequired,\r\n  snackbarCallback: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Dial;","import React from 'react';\r\nimport Dial from \"./Dial\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"../../styles/layout/Drawer.module.css\"\r\n\r\nconst Controller = (props) => {\r\n  const style = {\r\n    width: \"100%\",\r\n    overflow: \"hidden\",\r\n  }\r\n  const {snackbarCallback, sliders} = props\r\n  return (\r\n    <div style={style}>\r\n      <Grid container justify=\"center\" alignItems=\"center\" spacing={2}>\r\n        {sliders.map(slider => (\r\n          <Grid key={slider.sliderModel.id} item xs={3}>\r\n            <Dial model={slider.sliderModel}\r\n                  changeCallback={event => slider.sliderCallback(event.target.value)}\r\n                  snackbarCallback={snackbarCallback}/>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n      <Grid container justify=\"center\" alignItems=\"center\" spacing={2}>\r\n        {sliders.map(slider => (\r\n          <Grid className={styles.sliderLabel} key={slider.sliderModel.id} item xs={3}>\r\n            {slider.sliderModel.parameter}\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nController.propTypes = {\r\n  sliders: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      sliderModel: PropTypes.object.isRequired,\r\n      sliderCallback: PropTypes.func.isRequired\r\n    })\r\n  ).isRequired,\r\n  snackbarCallback: PropTypes.func.isRequired\r\n}\r\n\r\nexport default React.memo(Controller);","export const initializationConstants = {\r\n  animationSpeed: 2,\r\n  primeMoverColor: \"#ffffff\",\r\n  secondaryMoverColor: \"#ffffff\",\r\n  accentColor: \"\",\r\n  startingOctave: 3,\r\n  currentPatch: 0,\r\n  displayAnimation: true,\r\n  displaySpectrum: false,\r\n  displayNotes: false,\r\n  arpeggiatorSemitones: [0,2,7,11]\r\n};\r\n\r\nclass SliderModel {\r\n  constructor(id, parameter, defaultValue, minValue, maxValue, step) {\r\n    this.id = id;\r\n    this.parameter = parameter;\r\n    this.defaultValue = defaultValue;\r\n    this.minValue = minValue;\r\n    this.maxValue = maxValue;\r\n    this.step = step;\r\n  }\r\n}\r\n\r\nexport const sliderModels = new Map();\r\nsliderModels.set(\"volume-slider\", new SliderModel(\r\n  \"volume-slider\",\r\n  \"Volume\",\r\n  0.7,\r\n  0,\r\n  1,\r\n  0.01\r\n));\r\nsliderModels.set(\"pan-slider\", new SliderModel(\r\n  \"pan-slider\",\r\n  \"Pan\",\r\n  0,\r\n  -1.0,\r\n  1.0,\r\n  0.01\r\n));\r\nsliderModels.set(\"variance-slider\", new SliderModel(\r\n    \"variance-slider\",\r\n    \"Variance\",\r\n    1,\r\n    0,\r\n    1,\r\n    0.01\r\n))\r\nsliderModels.set(\"attack-slider\", new SliderModel(\r\n  \"attack-slider\",\r\n  \"Attack\",\r\n  0.1,\r\n  0.01,\r\n  1,\r\n  0.01\r\n));\r\nsliderModels.set(\"decay-slider\", new SliderModel(\r\n  \"decay-slider\",\r\n  \"Decay\",\r\n  0.1,\r\n  0.01,\r\n  1,\r\n  0.01\r\n));\r\nsliderModels.set(\"sustain-slider\", new SliderModel(\r\n  \"sustain-slider\",\r\n  \"Sustain\",\r\n  0.8,\r\n  0.01,\r\n  1,\r\n  0.01\r\n));\r\nsliderModels.set(\"release-slider\", new SliderModel(\r\n  \"release-slider\",\r\n  \"Release\",\r\n  1,\r\n  0.01,\r\n  3,\r\n  0.01\r\n));\r\nsliderModels.set(\"mod-index-slider\", new SliderModel(\r\n  \"mod-index-slider\",\r\n  \"modIndex\",\r\n  5,\r\n  0,\r\n  10,\r\n  0.01\r\n));\r\nsliderModels.set(\"mod-ratio-slider\", new SliderModel(\r\n  \"mod-ratio-slider\",\r\n  \"modRatio\",\r\n  2,\r\n  0,\r\n  5,\r\n  0.01\r\n));\r\nsliderModels.set(\"mod-duration-slider\", new SliderModel(\r\n  \"mod-duration-slider\",\r\n  \"modDuration\",\r\n  1,\r\n  0,\r\n  3,\r\n  0.01\r\n));\r\nsliderModels.set(\"delay-time-slider\", new SliderModel(\r\n  \"delay-time-slider\",\r\n  \"Delay time\",\r\n  1,\r\n  0,\r\n  4,\r\n  0.01\r\n));\r\nsliderModels.set(\"delay-feedback-slider\", new SliderModel(\r\n  \"delay-feedback-slider\",\r\n  \"Feedback\",\r\n  0.3,\r\n  0,\r\n  0.99,\r\n  0.01\r\n));\r\nsliderModels.set(\"delay-mix-slider\", new SliderModel(\r\n  \"delay-mix-slider\",\r\n  \"Delay mix\",\r\n  0.15,\r\n  0,\r\n  1,\r\n  0.01\r\n));\r\nsliderModels.set(\"reverb-mix-slider\", new SliderModel(\r\n  \"reverb-mix-slider\",\r\n  \"Reverb mix\",\r\n  0.8,\r\n  0,\r\n  1,\r\n  0.01\r\n));\r\nsliderModels.set(\"arpeggiator-speed-slider\", new SliderModel(\r\n  \"arpeggiator-speed-slider\",\r\n  \"Speed\",\r\n  1.25,\r\n  0.5,\r\n  2,\r\n  0.01\r\n));\r\nsliderModels.set(\"arpeggiator-octave-slider\", new SliderModel(\r\n  \"arpeggiator-octave-slider\",\r\n  \"Octaves\",\r\n  3,\r\n  1,\r\n  3,\r\n  1\r\n));\r\n","import React, {useCallback, useMemo, useState} from 'react';\r\nimport SwipeableViews from \"react-swipeable-views\";\r\nimport Controller from \"../controller/Controller\";\r\nimport {sliderModels} from \"../util/InitializationConstants\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"../../styles/layout/Drawer.module.css\"\r\nimport Dots from \"material-ui-dots\";\r\n\r\n\r\nconst ControllerALayout = (props) => {\r\n  const globalController = useMemo(() => {\r\n    return {\r\n      snackbarCallback: props.snackbarCallback,\r\n      sliders: [{\r\n        sliderModel: sliderModels.get(\"volume-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setVolume(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"pan-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setPan(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"variance-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setVariance(value)\r\n      }]\r\n    }\r\n  }, [props.snackbarCallback, props.audioContext]);\r\n  const envelopeController = useMemo(() => {\r\n    return {\r\n      snackbarCallback: props.snackbarCallback,\r\n      sliders: [{\r\n        sliderModel: sliderModels.get(\"attack-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setAttack(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"decay-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setDecay(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"sustain-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setSustain(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"release-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setRelease(value)\r\n      }]\r\n    }\r\n  }, [props.snackbarCallback, props.audioContext]);\r\n\r\n  console.log(\"Rendering Controller A\")\r\n\r\n  const [index, setIndex] = useState(0);\r\n  const indexChangeCallback = useCallback((value) => setIndex(value), []);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.relativeBox}>\r\n        <SwipeableViews className={styles.sliderContainer}\r\n                        enableMouseEvents\r\n                        resistance\r\n                        onChangeIndex={indexChangeCallback}>\r\n          <Controller {...globalController}/>\r\n          <Controller {...envelopeController}/>\r\n        </SwipeableViews>\r\n        <Dots className={styles.sliderPagination} count={2} index={index}/>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nControllerALayout.propTypes = {\r\n  audioContext: PropTypes.object.isRequired,\r\n  snackbarCallback: PropTypes.func.isRequired\r\n}\r\n\r\nexport default React.memo(ControllerALayout);","import React, {useCallback, useState} from 'react';\r\nimport \"../../styles/layout/Piano.css\"\r\nimport {initializationConstants} from \"../util/InitializationConstants\";\r\n\r\nconst PianoLayout = (props) => {\r\n  const keys = [\r\n    {key: \"c\", type: \"white\"},\r\n    {key: \"cs\", type: \"black\"},\r\n    {key: \"d\", type: \"white\"},\r\n    {key: \"ds\", type: \"black\"},\r\n    {key: \"e\", type: \"white\"},\r\n    {key: \"f\", type: \"white\"},\r\n    {key: \"fs\", type: \"black\"},\r\n    {key: \"g\", type: \"white\"},\r\n    {key: \"gs\", type: \"black\"},\r\n    {key: \"a\", type: \"white\"},\r\n    {key: \"as\", type: \"black\"},\r\n    {key: \"b\", type: \"white\"}\r\n  ];\r\n\r\n  const [keysActivated, setKeysActivated] = useState(initializationConstants.arpeggiatorSemitones);\r\n\r\n  const keySelectHandler = useCallback((index) => {\r\n    setKeysActivated(prevState => {\r\n      const keysArray = prevState.includes(index) ?\r\n        prevState.filter(i => i !== index) : [...prevState, index];\r\n      const sortedKeysArray = keysArray.sort((a, b) => a - b);\r\n      props.keySelectionCallback(sortedKeysArray);\r\n      return sortedKeysArray;\r\n    })\r\n  }, [])\r\n\r\n  let x = 0;\r\n  const handleMouseDown = useCallback(e => {\r\n    x = e.screenX;\r\n  }, []);\r\n\r\n  const handleClick = useCallback((e, i) => {\r\n    const delta = Math.abs(e.screenX - x);\r\n    if (delta > 10) {\r\n      e.preventDefault();\r\n    } else {\r\n      keySelectHandler(i);\r\n    }\r\n    x = 0;\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {console.log(\"rendering piano\")}\r\n      <ul className=\"set\">\r\n        {keys.map((k,i) => (\r\n          <li key={i}\r\n              className={`${k.key} ${k.type} ${keysActivated.includes(i) ? \"keySelected\": \"\"}`}\r\n              onClick={(event) => handleClick(event, i)} onMouseDown={handleMouseDown}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(PianoLayout);","import React, {useCallback, useMemo, useState} from 'react';\r\nimport SwipeableViews from \"react-swipeable-views\";\r\nimport {sliderModels} from \"../util/InitializationConstants\";\r\nimport Controller from \"../controller/Controller\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"../../styles/layout/Drawer.module.css\"\r\nimport PianoLayout from \"./PianoLayout\";\r\nimport Dots from \"material-ui-dots\";\r\n\r\nconst ControllerBLayout = (props) => {\r\n  const arpeggiatorController = useMemo(() => {\r\n    return {\r\n      snackbarCallback: props.snackbarCallback,\r\n      sliders: [{\r\n        sliderModel: sliderModels.get(\"arpeggiator-speed-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setArpeggiatorSpeed(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"arpeggiator-octave-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setArpeggiatorOctaves(value)\r\n      }]\r\n    }\r\n  }, [props.snackbarCallback, props.audioContext]);\r\n  const auxEffectsController = useMemo(() => {\r\n    return {\r\n      snackbarCallback: props.snackbarCallback,\r\n      sliders: [{\r\n        sliderModel: sliderModels.get(\"delay-time-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setDelayTime(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"delay-feedback-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setDelayFeedback(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"delay-mix-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setDelayMix(value)\r\n      }, {\r\n        sliderModel: sliderModels.get(\"reverb-mix-slider\"),\r\n        sliderCallback: (value) => props.audioContext.setReverbMix(value)\r\n      }]\r\n    }\r\n  }, [props.snackbarCallback, props.audioContext]);\r\n\r\n  console.log(\"Rendering Controller B\")\r\n\r\n  const [index, setIndex] = useState(0);\r\n  const indexChangeCallback = useCallback((value) => setIndex(value), []);\r\n  const pianoKeySelectCallback = useCallback(\r\n    (keysArray) => props.audioContext.setArpeggiatorSemitones(keysArray),\r\n    [props.audioContext]);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.relativeBox}>\r\n        <SwipeableViews className={styles.sliderContainer}\r\n                        enableMouseEvents\r\n                        resistance\r\n                        animateHeight\r\n                        onChangeIndex={indexChangeCallback}>\r\n          <Controller {...arpeggiatorController} />\r\n          <PianoLayout keySelectionCallback={pianoKeySelectCallback}/>\r\n          <Controller {...auxEffectsController} />\r\n        </SwipeableViews>\r\n        <Dots className={styles.sliderPagination} count={3} index={index}/>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nControllerBLayout.propTypes = {\r\n  audioContext: PropTypes.object.isRequired,\r\n  snackbarCallback: PropTypes.func.isRequired\r\n}\r\n\r\nexport default React.memo(ControllerBLayout);","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport styles from \"../../styles/layout/Drawer.module.css\"\r\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\r\nimport ThemeProvider from \"@material-ui/styles/ThemeProvider\";\r\nimport {Divider} from \"@material-ui/core\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport PropTypes from 'prop-types';\r\nimport {initializationConstants} from \"../util/InitializationConstants\";\r\n\r\nconst BottomDrawer = (props) => {\r\n\r\n  const horizontalSliderTheme = createMuiTheme({\r\n    overrides: {\r\n      MuiSlider: {\r\n        thumb: {\r\n          color: \"#29DFF9\",\r\n        },\r\n        track: {\r\n          color: '#baf0fc'\r\n        },\r\n        rail: {\r\n          color: '#16191a'\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  console.log(\"Rendering bottom drawer\")\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.bottomDrawerSwitches}>\r\n        <FormControl>\r\n          <FormGroup>\r\n            <FormControlLabel\r\n              value=\"displayAnimation\"\r\n              control={\r\n                <Switch color=\"primary\" defaultChecked={initializationConstants.displayAnimation}\r\n                        onChange={(event) => props.graphicsContext.setDisplayAnimation(event.target.checked)}/>\r\n              }\r\n              label=\"Display animation\"\r\n              labelPlacement=\"end\"/>\r\n            <FormControlLabel\r\n              value=\"displayWaveform\"\r\n              control={\r\n                <Switch color=\"primary\" defaultChecked={initializationConstants.displaySpectrum}\r\n                        onChange={(event) => {\r\n                          props.audioContext.setDisplaySpectrum(event.target.checked);\r\n                          props.graphicsContext.setDisplaySpectrum(event.target.checked);\r\n                        }}/>\r\n              }\r\n              label=\"Display waveform\"\r\n              labelPlacement=\"end\"/>\r\n            <FormControlLabel\r\n              value=\"displayNotes\"\r\n              control={\r\n                <Switch color=\"primary\" defaultChecked={initializationConstants.displayNotes}\r\n                        onChange={(event) => props.toggleNoteInfoCallback(event.target.checked)}/>\r\n              }\r\n              label=\"Display Notes\"\r\n              labelPlacement=\"end\"/>\r\n          </FormGroup>\r\n        </FormControl>\r\n      </div>\r\n\r\n      <Divider variant={\"middle\"}/>\r\n\r\n      <div className={styles.bottomDrawerSliderSection}>\r\n        <div className={styles.bottomDrawerSliderAndLabelGroup}>\r\n          <Typography id=\"current-octave-slider\" gutterBottom>\r\n            Current octave\r\n          </Typography>\r\n          <ThemeProvider theme={horizontalSliderTheme}>\r\n            <Slider\r\n              defaultValue={initializationConstants.startingOctave}\r\n              aria-labelledby=\"current-octave-slider\"\r\n              valueLabelDisplay=\"auto\"\r\n              step={1}\r\n              marks\r\n              min={1}\r\n              max={7}\r\n              onChangeCommitted={(_, value) => props.audioContext.setCurrentOctave(value)}/>\r\n          </ThemeProvider>\r\n        </div>\r\n\r\n        <div className={styles.bottomDrawerSliderAndLabelGroup}>\r\n          <Typography id=\"animation-speed-slider\" gutterBottom>\r\n            Animation speed\r\n          </Typography>\r\n          <ThemeProvider theme={horizontalSliderTheme}>\r\n            <Slider\r\n              defaultValue={initializationConstants.animationSpeed}\r\n              aria-labelledby=\"animation-speed-slider\"\r\n              valueLabelDisplay=\"auto\"\r\n              step={1}\r\n              marks\r\n              min={1}\r\n              max={5}\r\n              onChangeCommitted={(_, value) => props.graphicsContext.setAnimationSpeed(value)}/>\r\n          </ThemeProvider>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nBottomDrawer.propTypes = {\r\n  audioContext: PropTypes.object.isRequired,\r\n  graphicsContext: PropTypes.object.isRequired,\r\n  toggleNoteInfoCallback: PropTypes.func.isRequired\r\n}\r\n\r\nexport default React.memo(BottomDrawer);","import React from 'react';\r\nimport {Container, Divider, Drawer, SwipeableDrawer} from \"@material-ui/core\";\r\nimport ControllerALayout from \"./ControllerALayout\";\r\nimport ControllerBLayout from \"./ControllerBLayout\";\r\nimport styles from \"../../styles/layout/Drawer.module.css\"\r\nimport BottomDrawer from \"./BottomDrawer\";\r\nimport PropTypes from 'prop-types';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\nconst ControllerDrawer = (props) => {\r\n\r\n  const textDeclaration = (\r\n    <>\r\n      Copyleft 2020 &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;   &lt;/&gt; with &lt;3 by <a\r\n      href=\"https://github.com/Thrifleganger/swara-react-synth\" target=\"_blank\">Akash Murthy</a>\r\n    </>\r\n  )\r\n\r\n  const topControllerSection = (\r\n    <>\r\n      <div className={styles.sliderDrawer}>\r\n        <Container maxWidth=\"sm\">\r\n          <ControllerALayout audioContext={props.audioContext} snackbarCallback={props.snackbarCallback}/>\r\n          <Divider variant={\"middle\"}/>\r\n          <ControllerBLayout audioContext={props.audioContext} snackbarCallback={props.snackbarCallback}/>\r\n        </Container>\r\n      </div>\r\n      <div className={styles.drawerHandleTop}/>\r\n    </>\r\n  )\r\n\r\n  const bottomControllerSection = (\r\n    <>\r\n      <div className={styles.bottomDrawer}>\r\n        <div className={styles.drawerHandleBottom}/>\r\n        <Container maxWidth=\"sm\">\r\n          <BottomDrawer audioContext={props.audioContext}\r\n                        graphicsContext={props.graphicsContext}\r\n                        toggleNoteInfoCallback={props.toggleNoteInfoCallback}/>\r\n        </Container>\r\n        <div className={styles.textDeclaration}>\r\n          {textDeclaration}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n  return (\r\n    <>\r\n      <MobileView>\r\n        <SwipeableDrawer onClose={props.toggleSliderDrawer(false)} onOpen={props.toggleSliderDrawer(true)}\r\n                         open={props.isSliderControllerOpen} swipeAreaWidth={150} anchor={\"top\"} keepMounted={true}>\r\n          {topControllerSection}\r\n        </SwipeableDrawer>\r\n        <SwipeableDrawer onClose={props.toggleBottomDrawer(false)} onOpen={props.toggleBottomDrawer(true)}\r\n                         open={props.isBottomDrawerOpen} swipeAreaWidth={50} anchor={\"bottom\"} keepMounted={true}>\r\n          {bottomControllerSection}\r\n        </SwipeableDrawer>\r\n      </MobileView>\r\n      <BrowserView>\r\n        <Drawer onClose={props.toggleSliderDrawer(false)}\r\n                open={props.isSliderControllerOpen} anchor={\"top\"} keepMounted={true}>\r\n          {topControllerSection}\r\n        </Drawer>\r\n        <Drawer onClose={props.toggleBottomDrawer(false)}\r\n                open={props.isBottomDrawerOpen} anchor={\"bottom\"} keepMounted={true}>\r\n          {bottomControllerSection}\r\n        </Drawer>\r\n      </BrowserView>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nControllerDrawer.propTypes = {\r\n  toggleSliderDrawer: PropTypes.func.isRequired,\r\n  isSliderControllerOpen: PropTypes.bool.isRequired,\r\n  isBottomDrawerOpen: PropTypes.bool.isRequired,\r\n  toggleBottomDrawer: PropTypes.func.isRequired,\r\n  audioContext: PropTypes.object.isRequired,\r\n  graphicsContext: PropTypes.object.isRequired,\r\n  snackbarCallback: PropTypes.func.isRequired,\r\n  toggleNoteInfoCallback: PropTypes.func.isRequired\r\n}\r\n\r\nexport default React.memo(ControllerDrawer);","import React from \"react\";\r\nimport styles from \"../../styles/layout/MainLayout.module.css\"\r\nimport HeadsetIcon from '@material-ui/icons/Headset';\r\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\r\nimport MusicNoteIcon from '@material-ui/icons/MusicNote';\r\nimport GraphicEqIcon from '@material-ui/icons/GraphicEq';\r\n\r\nconst SplashScreen = (props) => {\r\n\r\n  return (\r\n    <div className={styles.splashScreen} onClick={props.startAudioContext}>\r\n      <div className={styles.splashScreenIconGrid}>\r\n        <div className={styles.splashScreenIconGridFlexbox}>\r\n          <div className={styles.splashScreenIconsHorizontal}>\r\n            <HeadsetIcon htmlColor={\"#6c739d\"} fontSize={\"large\"}/>\r\n            <VolumeUpIcon htmlColor={\"#786c9d\"} fontSize={\"large\"}/>\r\n          </div>\r\n          <div className={styles.splashScreenIconsHorizontal}>\r\n            <MusicNoteIcon htmlColor={\"#9d6c80\"} fontSize={\"large\"}/>\r\n            <GraphicEqIcon htmlColor={\"#986c9d\"} fontSize={\"large\"}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={styles.splashScreenTitle}>\r\n        swara\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SplashScreen","import React from 'react';\r\nimport styles from \"../../styles/layout/MainLayout.module.css\";\r\n\r\nconst NoteInfo = () => {\r\n\r\n  const notes = [\"C\", \"C<sub>#</sub>\", \"D\", \"D<sub>#</sub>\",\r\n    \"E\", \"F\", \"F<sub>#</sub>\", \"G\", \"G<sub>#</sub>\", \"A\", \"A<sub>#</sub>\", \"B\"];\r\n  const notesInfo = (\r\n    <>\r\n      {notes.map(note => <span dangerouslySetInnerHTML={{__html: note}} key={note}/>)}\r\n    </>\r\n  )\r\n\r\n  return (\r\n    <div className={styles.notesInfoSection}>\r\n      {notesInfo}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(NoteInfo);","import React, {useCallback, useState} from 'react';\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport PropTypes from 'prop-types';\r\nimport ControllerDrawer from \"./ControllerDrawer\";\r\nimport styles from \"../../styles/layout/MainLayout.module.css\"\r\nimport SplashScreen from \"./SplashScreen\";\r\nimport NoteInfo from \"./NoteInfo\";\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\r\n\r\n\r\nconst MainLayout = (props) => {\r\n\r\n  const [isSliderControllerOpen, setSliderControllerOpen] = useState(false);\r\n  const [isBottomDrawerOpen, setBottomDrawerOpen] = useState(false);\r\n  const [isSnackbarOpen, setSnackbarOpen] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState(\"\");\r\n  const [isAppLoaded, setAppLoaded] = useState(false);\r\n  const [shouldDisplayInfo, setDisplayInfo] = useState(false);\r\n\r\n  const startAudioContext = useCallback(() => {\r\n    props.audioContext.start()\r\n    setAppLoaded(true);\r\n  }, [props.audioContext]);\r\n\r\n  const toggleSliderDrawer = useCallback((isOpen) => (event) => {\r\n      /*if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n        return;\r\n      }*/\r\n      setSliderControllerOpen(isOpen);\r\n    }, []\r\n  );\r\n\r\n  const toggleBottomDrawer = useCallback((isOpen) => (event) => {\r\n      if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n        return;\r\n      }\r\n      setBottomDrawerOpen(isOpen);\r\n    }, []\r\n  );\r\n\r\n  const snackbarCallback = useCallback(\r\n    (message) => {\r\n      setSnackbarOpen(true);\r\n      setSnackbarMessage(message);\r\n    }, []\r\n  );\r\n\r\n  const toggleNoteInfoCallback = useCallback((value) => setDisplayInfo(value), []);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.topDrawerExpanderCue} onClick={toggleSliderDrawer(true)}>\r\n        <ExpandMoreIcon fontSize={\"small\"}/>\r\n      </div>\r\n      <div className={styles.bottomDrawerExpanderCue} onClick={toggleBottomDrawer(true)}>\r\n        <ExpandLessIcon fontSize={\"small\"}/>\r\n      </div>\r\n      <ControllerDrawer toggleSliderDrawer={toggleSliderDrawer}\r\n                        isSliderControllerOpen={isSliderControllerOpen}\r\n                        isBottomDrawerOpen={isBottomDrawerOpen}\r\n                        toggleBottomDrawer={toggleBottomDrawer}\r\n                        audioContext={props.audioContext}\r\n                        graphicsContext={props.graphicsContext}\r\n                        snackbarCallback={snackbarCallback}\r\n                        toggleNoteInfoCallback={toggleNoteInfoCallback}/>\r\n      <Snackbar className={styles.snackbarLayout}\r\n                open={isSnackbarOpen}\r\n                autoHideDuration={3000}\r\n                onClose={() => setSnackbarOpen(false)}\r\n                message={snackbarMessage}\r\n                anchorOrigin={{vertical: 'bottom', horizontal: 'center'}}/>\r\n\r\n      {shouldDisplayInfo ? (<NoteInfo/>) : \"\"}\r\n      {isAppLoaded ? \"\" : (<SplashScreen startAudioContext={startAudioContext}/>)}\r\n    </>\r\n  );\r\n}\r\n\r\nMainLayout.propTypes = {\r\n  audioContext: PropTypes.object.isRequired,\r\n  graphicsContext: PropTypes.object.isRequired\r\n}\r\n\r\nexport default MainLayout;","import {Midi} from \"tone\";\r\n\r\nexport const rangeMap = (value, x1, y1, x2, y2) => (value - x1) * (y2 - x2) / (y1 - x1) + x2;\r\n\r\nexport const convertXToFrequency = (x, currentOctave, isFullScale = false) => {\r\n  return Midi(Math.floor(convertXToNoteNumber(x, currentOctave))).toFrequency();\r\n}\r\n\r\nexport const convertXToNoteNumber = (x, currentOctave, isFullScale = false) => {\r\n  return Math.floor(currentOctave * 12 + 12 + rangeMap(x, 0, window.innerWidth, 0, 12));\r\n}\r\n\r\nexport const convertYToVelocity = (y) => {\r\n  return rangeMap(y, 0, window.innerHeight, 0, 1);\r\n}","import {Analyser, Channel, Destination, Filter, Gain, LFO, Panner, PingPongDelay, Reverb, start} from 'tone'\r\nimport {rangeMap} from \"../util/Util\";\r\nimport {sliderModels, initializationConstants} from \"../util/InitializationConstants\";\r\n\r\nclass AudioContext {\r\n\r\n  constructor() {\r\n    this.instrument = null;\r\n    this.fftAnalyzerCallbackInterval = null;\r\n    this.fftAnalysisArray = [];\r\n\r\n    this.volume = sliderModels.get(\"volume-slider\").defaultValue;\r\n    this.pan = sliderModels.get(\"pan-slider\").defaultValue;\r\n    this.variance = sliderModels.get(\"variance-slider\").defaultValue;\r\n\r\n    this.attack = sliderModels.get(\"attack-slider\").defaultValue;\r\n    this.decay = sliderModels.get(\"decay-slider\").defaultValue;\r\n    this.sustain = sliderModels.get(\"sustain-slider\").defaultValue;\r\n    this.release = sliderModels.get(\"release-slider\").defaultValue;\r\n\r\n    this.delayTime = sliderModels.get(\"delay-time-slider\").defaultValue;\r\n    this.delayFeedback = sliderModels.get(\"delay-feedback-slider\").defaultValue;\r\n    this.delayMix = sliderModels.get(\"delay-mix-slider\").defaultValue;\r\n    this.reverbMix = sliderModels.get(\"reverb-mix-slider\").defaultValue;\r\n\r\n    this.arpeggiatorSpeed = sliderModels.get(\"arpeggiator-speed-slider\").defaultValue;\r\n    this.arpeggiatorOctaves = sliderModels.get(\"arpeggiator-octave-slider\").defaultValue;\r\n    this.arpeggiatorSemitones = initializationConstants.arpeggiatorSemitones;\r\n\r\n    this.currentOctave = initializationConstants.startingOctave;\r\n  }\r\n\r\n  start() {\r\n    console.log(\"Started audio context\");\r\n    start().then();\r\n  }\r\n\r\n  initialize(instrument) {\r\n    console.log(\"Initializing audioContext\");\r\n    this.instrument = instrument;\r\n    this.instrument.initialize(this);\r\n    const {patch} = this.instrument;\r\n    patch.fftAnalyzer = new Analyser({\r\n      size: 256,\r\n      type: \"waveform\",\r\n      smoothing: 0.9\r\n    });\r\n\r\n    patch.volume = new Gain(this.volume, \"normalRange\");\r\n    patch.pan = new Panner(this.pan);\r\n    patch.tone = new Filter({\r\n      type: \"lowpass\",\r\n      frequency: 100\r\n    });\r\n    patch.lfo = new LFO(0.1, 300, 10000)\r\n    patch.lfo.start();\r\n\r\n    patch.delay = new PingPongDelay({\r\n      delayTime: this.delayTime,\r\n      maxDelayTime: 4\r\n    });\r\n    this.setDelayFeedback(this.delayFeedback)\r\n    this.setDelayMix(this.delayMix);\r\n    patch.reverb = new Reverb(10);\r\n    this.setReverbMix(this.reverbMix);\r\n\r\n    patch.mainChannel = new Channel();\r\n    patch.reverbChannel = new Channel();\r\n    patch.delayChannel = new Channel();\r\n    patch.synth.connect(patch.volume);\r\n    patch.volume.connect(patch.pan);\r\n    patch.pan.connect(patch.tone);\r\n    patch.lfo.connect(patch.tone.frequency);\r\n    patch.tone.connect(patch.mainChannel);\r\n    patch.mainChannel.send(\"delay-bus\", -3);\r\n    patch.mainChannel.send(\"reverb-bus\", -3);\r\n    patch.delayChannel.receive(\"delay-bus\");\r\n    patch.reverbChannel.receive(\"reverb-bus\");\r\n    patch.delayChannel.connect(patch.delay);\r\n    patch.reverbChannel.connect(patch.reverb);\r\n    const finalOutputNode = new Gain(1, \"normalRange\");\r\n    patch.delay.connect(finalOutputNode);\r\n    patch.reverb.connect(finalOutputNode);\r\n\r\n    finalOutputNode.fan(Destination);\r\n    finalOutputNode.fan(patch.fftAnalyzer);\r\n\r\n    if (initializationConstants.displaySpectrum) {\r\n      this.fftAnalyzerCallbackInterval = setInterval(\r\n        () => this.fftAnalysisArray = patch.fftAnalyzer.getValue(), 30);\r\n    }\r\n  }\r\n\r\n  handleGenericTriggerEvent = (coordinates) => {\r\n    this.instrument.triggerAttack(coordinates, this.currentOctave);\r\n  }\r\n\r\n  handleGenericReleaseEvent = (_) => {\r\n    this.instrument.triggerRelease();\r\n  }\r\n\r\n  setVolume(volume) {\r\n    this.volume = volume;\r\n    this.instrument.patch.volume.gain.value = volume;\r\n  }\r\n  setPan(pan) {\r\n    this.pan = pan;\r\n    this.instrument.patch.pan.pan.value = this.pan;\r\n  }\r\n  setVariance(variance) {\r\n    this.variance = variance;\r\n    this.instrument.patch.lfo.min = rangeMap(this.variance, 0, 1, 2000, 300);\r\n    this.instrument.patch.lfo.max = rangeMap(this.variance, 0, 1, 2000, 10000);\r\n  }\r\n\r\n  setAttack(attack) {\r\n    this.attack = attack;\r\n    this.instrument.setEnvelope(this.attack, this.decay, this.sustain, this.release);\r\n  }\r\n  setDecay(decay) {\r\n    this.decay = decay;\r\n    this.instrument.setEnvelope(this.attack, this.decay, this.sustain, this.release);\r\n  }\r\n  setSustain(sustain) {\r\n    this.sustain = sustain;\r\n    this.instrument.setEnvelope(this.attack, this.decay, this.sustain, this.release);\r\n  }\r\n  setRelease(release) {\r\n    this.release = release;\r\n    this.instrument.setEnvelope(this.attack, this.decay, this.sustain, this.release);\r\n  }\r\n\r\n  setDelayTime(delayTime) {\r\n    this.delayTime = delayTime;\r\n    this.instrument.patch.delay.delayTime.value = this.delayTime;\r\n  }\r\n  setDelayFeedback(feedback) {\r\n    this.delayFeedback = feedback;\r\n    this.instrument.patch.delay.feedback.value = this.delayFeedback;\r\n  }\r\n  setDelayMix(mix) {\r\n    this.delayMix = mix;\r\n    this.instrument.patch.delay.wet.value = this.delayMix;\r\n  }\r\n  setReverbMix(mix) {\r\n    this.reverbMix = mix;\r\n    this.instrument.patch.reverb.wet.value = this.reverbMix;\r\n  }\r\n\r\n  setArpeggiatorSpeed(speed) {\r\n    this.arpeggiatorSpeed = speed;\r\n    if (this.instrument.id === \"arpeggiator\") {\r\n      this.instrument.setPlaybackRate(speed);\r\n    }\r\n  }\r\n  setArpeggiatorOctaves(octaves) {\r\n    this.arpeggiatorOctaves = octaves;\r\n    if (this.instrument.id === \"arpeggiator\") {\r\n      this.instrument.setOctaves(octaves);\r\n    }\r\n  }\r\n  setArpeggiatorSemitones(semitonesArray) {\r\n    this.arpeggiatorSemitones = semitonesArray;\r\n    if (this.instrument.id === \"arpeggiator\") {\r\n      this.instrument.setArpeggiatorSemitones(semitonesArray);\r\n    }\r\n  }\r\n\r\n  setCurrentOctave(currentOctave) {\r\n    this.currentOctave = currentOctave;\r\n  }\r\n\r\n  setDisplaySpectrum(value) {\r\n    if (value === false && this.fftAnalyzerCallbackInterval !== null) {\r\n      clearInterval(this.fftAnalyzerCallbackInterval);\r\n    } else {\r\n      this.fftAnalyzerCallbackInterval = setInterval(\r\n        () => this.fftAnalysisArray = this.instrument.patch.fftAnalyzer.getValue(), 60);\r\n    }\r\n  }\r\n\r\n  getFftBuffer() {\r\n    return this.fftAnalysisArray;\r\n  }\r\n\r\n}\r\n\r\nexport default AudioContext;","export default class Patch {\r\n  constructor() {\r\n    this.volume = null;\r\n    this.pan = null;\r\n    this.tone = null;\r\n    this.synth = null;\r\n    this.reverb = null;\r\n    this.delay = null;\r\n    this.envelope = null;\r\n  }\r\n}","import Patch from \"./AudioPatch\";\r\nimport {Synth, Pattern, Midi, Transport} from 'tone'\r\nimport {convertXToNoteNumber, convertYToVelocity} from \"../util/Util\";\r\n\r\nclass Arpeggiator {\r\n  constructor() {\r\n    this.id = \"arpeggiator\";\r\n    this.patch = new Patch();\r\n    this.numberOfOctaves = null;\r\n    this.playbackRate = null;\r\n    this.semitones = null;\r\n    this.audioContext = null;\r\n  }\r\n\r\n  initialize(audioContext) {\r\n    console.log(\"Initializing argpeggiator\");\r\n    this.audioContext = audioContext;\r\n    this.patch.synth = new Synth({\r\n      oscillator: {\r\n        type: \"sawtooth\"\r\n      }\r\n    });\r\n    this.patch.pattern = new Pattern({\r\n      pattern: \"upDown\"\r\n    });\r\n    this.patch.pattern.interval = \"16n\";\r\n    this.setEnvelope(audioContext.attack, audioContext.decay, audioContext.sustain, audioContext.release);\r\n    this.playbackRate = audioContext.arpeggiatorSpeed;\r\n    this.numberOfOctaves = audioContext.arpeggiatorOctaves;\r\n    this.semitones = audioContext.arpeggiatorSemitones;\r\n  }\r\n\r\n  triggerAttack(coordinates, currentOctave) {\r\n    Transport.start();\r\n    const {pattern, synth} = this.patch;\r\n    let notes = [];\r\n    for (let i of Array(Math.round(this.numberOfOctaves)).keys()) {\r\n      notes = notes.concat(this.semitones.map(note => note + (i * 12)));\r\n    }\r\n    const velocity = convertYToVelocity(coordinates[0].y, currentOctave);\r\n    pattern.callback = (time, note) => synth.triggerAttackRelease(note, \"16n\", undefined, velocity);\r\n    const midiNoteNumber = convertXToNoteNumber(coordinates[0].x, currentOctave);\r\n    pattern.values = notes.map(note => Math.floor(Midi(note + midiNoteNumber).toFrequency()));\r\n    pattern.playbackRate = this.playbackRate;\r\n    pattern.start();\r\n  }\r\n\r\n  triggerRelease(coordinates) {\r\n    this.patch.pattern.stop();\r\n    Transport.stop();\r\n  }\r\n\r\n  setArpeggiatorSemitones(array) {\r\n    this.semitones = [...array];\r\n  }\r\n\r\n  setOctaves(octaves) {\r\n    this.numberOfOctaves = octaves;\r\n  }\r\n\r\n  setPlaybackRate(speed) {\r\n    this.playbackRate = speed;\r\n    this.patch.pattern.playbackRate = speed;\r\n  }\r\n\r\n  setEnvelope(attack, decay, sustain, release) {\r\n    const {envelope:env} = this.patch.synth;\r\n    env.attack = attack\r\n    env.decay = decay;\r\n    env.sustain = sustain;\r\n    env.release = release;\r\n  }\r\n}\r\n\r\nexport default Arpeggiator;\r\n","import React, {Component} from 'react';\r\nimport Arpeggiator from \"../audio/Arpeggiator\";\r\n\r\nclass AudioCanvas extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {width: 0, height: 0};\r\n    this.isTouchActivated = false;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateWindowDimensions();\r\n    window.addEventListener('resize', this.updateWindowDimensions);\r\n    this.props.audioContext.initialize(new Arpeggiator());\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.updateWindowDimensions);\r\n  }\r\n\r\n  updateWindowDimensions = () => {\r\n    this.setState({width: window.innerWidth, height: window.innerHeight});\r\n  }\r\n\r\n  render() {\r\n    const style = {\r\n      position: \"absolute\",\r\n      left: 0,\r\n      top: 0,\r\n      height: this.state.height,\r\n      width: this.state.width\r\n    }\r\n    return (\r\n      <div style={style}\r\n           onMouseDown={event => this.handleGenericPressEvent([{x: event.clientX, y: event.clientY}]) }\r\n           onMouseUp={() => this.handleGenericReleasedEvent([])}\r\n           onTouchStart={(event) => {\r\n             if (this.isTouchActivated) {\r\n               return;\r\n             }\r\n             if (event.targetTouches.length === 0) {\r\n               return;\r\n             }\r\n             this.isTouchActivated = true;\r\n             this.handleGenericPressEvent([{\r\n               x: event.targetTouches.item(0).clientX,\r\n               y: event.targetTouches.item(0).clientY\r\n             }]);\r\n             /*const coordinates = Array(event.touches.length).fill()\r\n               .flatMap((_,i) => [{x: event.touches.item(i).clientX, y: event.touches.item(i).clientY}])\r\n             this.handleGenericPressEvent(coordinates);*/\r\n           }}\r\n           onTouchEnd={(event) => {\r\n\r\n             if (event.targetTouches.length !== 0) {\r\n               return;\r\n             }\r\n             this.isTouchActivated = false;\r\n             this.handleGenericReleasedEvent(event);\r\n           }}/>\r\n    );\r\n  }\r\n\r\n  handleGenericPressEvent = (coordinates) => {\r\n    this.props.audioContext.handleGenericTriggerEvent(coordinates)\r\n  }\r\n\r\n  handleGenericReleasedEvent = (coordinates) => {\r\n    this.props.audioContext.handleGenericReleaseEvent(coordinates);\r\n  }\r\n}\r\n\r\nexport default AudioCanvas;\r\n","class PrimeMover {\r\n\r\n  constructor(id, coordinates, p5, previousMover, properties) {\r\n    this.p5 = p5;\r\n    this.id = id;\r\n    this.location = p5.createVector(coordinates.x, coordinates.y);\r\n    this.velocity = p5.createVector(0, - properties.animationSpeed);\r\n    this.connectionThreshold = p5.height/2;\r\n    this.previousMover = previousMover;\r\n    this.properties = properties;\r\n  }\r\n\r\n  update() {\r\n    this.location.add(this.velocity);\r\n    if (this.isOutOfCanvas()) {\r\n      this.destroyCallback();\r\n    } else {\r\n      this.display();\r\n      this.drawConnection()\r\n    }\r\n  }\r\n\r\n  isOutOfCanvas() {\r\n    return this.location.y < 0;\r\n  }\r\n\r\n  display() {\r\n    this.p5.noStroke();\r\n    this.p5.fill(this.properties.primeMoverColor);\r\n    const {height} = this.p5;\r\n    const size = this.p5.map(this.location.y, 0, height, 10, 50);\r\n    this.p5.ellipse(this.location.x, this.location.y, size, size);\r\n  }\r\n\r\n  registerDestructionCallback(destroyCallback) {\r\n    this.destroyCallback = destroyCallback;\r\n  }\r\n\r\n  drawConnection() {\r\n    if (this.previousMover == null) {\r\n      return;\r\n    }\r\n    const {x:prevX, y:prevY} = this.previousMover.location\r\n    if (Math.abs(this.location.y - prevY) > this.connectionThreshold) {\r\n      this.previousMover = null;\r\n      return;\r\n    }\r\n    this.p5.stroke(this.properties.primeMoverColor);\r\n    this.p5.noFill();\r\n    this.p5.strokeWeight(1.5);\r\n    let diffX = (this.location.x - prevX)/2;\r\n    let diffY = (this.location.y - prevY)/2;\r\n    if(diffY < 50) diffY = this.p5.random(-50, 50);\r\n    if(diffX < 50) diffX = this.p5.random(-50, 50);\r\n    this.p5.bezier(\r\n      this.location.x, this.location.y,\r\n      this.location.x - this.p5.random(0,diffX), this.location.y - this.p5.random(0,diffY),\r\n      prevX + this.p5.random(0,diffX), prevY + this.p5.random(0,diffY),\r\n      prevX, prevY);\r\n  }\r\n}\r\n\r\nexport default PrimeMover;","import {v4 as uuid} from 'uuid'\r\n\r\nclass SecondaryMoverSystem {\r\n\r\n  constructor(id, coordinates, p5, properties) {\r\n    this.p5 = p5;\r\n    this.id = id;\r\n    this.coordinates = coordinates;\r\n    this.secondaryMovers = new Map();\r\n    this.destroyCallback = null;\r\n    this.destructionInitiated = false;\r\n\r\n    this.intervalId = setInterval(() => {\r\n      const moverId = uuid();\r\n      this.secondaryMovers.set(moverId, new SecondaryMover(\r\n        moverId,\r\n        coordinates.x,\r\n        p5,\r\n        properties.animationSpeed,\r\n        properties.secondaryMoverColor,\r\n        (mover) => this.deleteMover(mover)));\r\n    }, Number.parseInt(p5.random(30, 150)));\r\n  }\r\n\r\n  update() {\r\n    if (this.secondaryMovers.length === 0 && this.destructionInitiated) {\r\n      this.destroyCallback();\r\n    }\r\n    this.secondaryMovers.forEach(mover => mover.update());\r\n  }\r\n\r\n  deleteMover(mover) {\r\n    this.secondaryMovers.delete(mover.id);\r\n    mover = null;\r\n  }\r\n\r\n  registerDestructionCallback(destroyCallback) {\r\n    this.destroyCallback = destroyCallback;\r\n  }\r\n\r\n  initiateDestruction() {\r\n    clearInterval(this.intervalId);\r\n    this.destructionInitiated = true;\r\n  }\r\n}\r\n\r\nexport default SecondaryMoverSystem;\r\n\r\nclass SecondaryMover {\r\n\r\n  constructor(id, x, p5, speed, color, deleteCallback) {\r\n    this.id = id;\r\n    this.p5 = p5;\r\n    this.deleteCallback = deleteCallback;\r\n    let initialSpeed = - speed * p5.random(2,4);\r\n    this.size = p5.random(p5.width * 0.01, p5.width * 0.05);\r\n    this.location = p5.createVector(p5.random(x - (p5.width * 0.0625), x + (p5.width * 0.0625)), p5.height + 20)\r\n    this.velocity = p5.createVector(0, initialSpeed);\r\n    this.color = color;\r\n    this.alpha = Number.parseInt(p5.random(50, 200));\r\n  }\r\n\r\n  update() {\r\n    this.location.add(this.velocity);\r\n    if (this.isOutOfCanvas()) {\r\n      this.deleteCallback(this);\r\n    } else {\r\n      this.display();\r\n    }\r\n  }\r\n\r\n  isOutOfCanvas() {\r\n    return this.location.y < 0;\r\n  }\r\n\r\n  display() {\r\n    this.p5.noStroke();\r\n    this.p5.fill(this.p5.color(\r\n      this.p5.red(this.color),\r\n      this.p5.green(this.color),\r\n      this.p5.blue(this.color),\r\n      this.alpha)\r\n    );\r\n    this.p5.ellipse(this.location.x, this.location.y, this.size, this.size);\r\n  }\r\n}","import p5 from 'p5';\r\nimport PrimeMover from \"./PrimeMover\";\r\nimport {v4 as uuid} from 'uuid'\r\nimport SecondaryMoverSystem from \"./SecondaryMoverSystem\";\r\nimport {initializationConstants} from \"../util/InitializationConstants\";\r\nimport {rangeMap} from \"../util/Util\";\r\n\r\nclass GraphicsContext {\r\n  constructor() {\r\n    this.myP5 = null;\r\n    this.audioContext = null;\r\n    this.primeMovers = new Map();\r\n    this.secondaryMoverSystems = new Map();\r\n    this.previousPrimeMover = null;\r\n    this.isTouchActivated = false;\r\n\r\n    this.moverProperties = {\r\n      animationSpeed: initializationConstants.animationSpeed,\r\n      primeMoverColor: initializationConstants.primeMoverColor,\r\n      secondaryMoverColor: initializationConstants.secondaryMoverColor\r\n    }\r\n    this.shouldDisplayAnimation = initializationConstants.displayAnimation;\r\n    this.shouldDisplaySpectrum = initializationConstants.displaySpectrum;\r\n    this.shouldDisplayInfo = initializationConstants.displayNotes;\r\n  }\r\n\r\n  initialize(domReference) {\r\n    this.myP5 = new p5(this.sketch, domReference);\r\n  }\r\n\r\n  sketch = (p) => {\r\n\r\n    p.setup = () => {\r\n      console.log(\"Setup\");\r\n      p.createCanvas(p.windowWidth, p.windowHeight);\r\n    }\r\n\r\n    p.draw = () => {\r\n      p.clear();\r\n      if (this.shouldDisplayAnimation) {\r\n        this.primeMovers.forEach(primeMover => primeMover.update());\r\n        this.secondaryMoverSystems.forEach(system => system.update());\r\n      }\r\n      if (this.shouldDisplaySpectrum) {\r\n        this.displayWaveform();\r\n      }\r\n    }\r\n\r\n    p.windowResized = () => {\r\n      p.resizeCanvas(p.windowWidth, p.windowHeight);\r\n    }\r\n\r\n    p.touchStarted = (event) => {\r\n      if (this.isTouchActivated) {\r\n        return;\r\n      }\r\n      if (event.targetTouches.length === 0) {\r\n        return;\r\n      }\r\n      this.isTouchActivated = true;\r\n      this.handleGenericPressEvent([{\r\n        x: event.targetTouches.item(0).clientX,\r\n        y: event.targetTouches.item(0).clientY\r\n      }]);\r\n      // Handle multiple touches\r\n      /*const coordinates = Array(event.targetTouches.length).fill()\r\n        .flatMap((_, i) => [{x: event.touches.item(i).clientX, y: event.touches.item(i).clientY}])\r\n      this.handleGenericPressEvent(coordinates)*/\r\n    }\r\n\r\n    p.mousePressed = (event) => {\r\n      this.handleGenericPressEvent([{x: event.x, y: event.y}]);\r\n    }\r\n\r\n    p.touchEnded = (event) => {\r\n      if (event.targetTouches.length !== 0) {\r\n        return;\r\n      }\r\n      this.isTouchActivated = false;\r\n      this.handleGenericReleasedEvent(event);\r\n    }\r\n\r\n    p.mouseReleased = () => {\r\n      this.handleGenericReleasedEvent([]);\r\n    }\r\n  }\r\n\r\n  handleGenericPressEvent = (coordinates) => {\r\n    if (!this.shouldDisplayAnimation) {\r\n      return;\r\n    }\r\n    coordinates.forEach(coordinate => {\r\n      const primaryMoverId = uuid();\r\n      const primeMover = new PrimeMover(\r\n        primaryMoverId,\r\n        coordinate,\r\n        this.myP5,\r\n        this.previousPrimeMover,\r\n        this.moverProperties\r\n      );\r\n      primeMover.registerDestructionCallback(() => this.handlePrimeMoverDestruction(primeMover));\r\n      this.primeMovers.set(primaryMoverId, primeMover);\r\n      this.previousPrimeMover = primeMover;\r\n\r\n      const secondaryMoverSystemId = uuid();\r\n      const secondaryMoverSystem = new SecondaryMoverSystem(\r\n        secondaryMoverSystemId,\r\n        coordinate,\r\n        this.myP5,\r\n        this.moverProperties\r\n      );\r\n      this.secondaryMoverSystems.set(secondaryMoverSystemId, secondaryMoverSystem);\r\n      secondaryMoverSystem.registerDestructionCallback(\r\n        () =>this.handleSecondaryMoverSystemDestruction(secondaryMoverSystem));\r\n    });\r\n  }\r\n\r\n  handleGenericReleasedEvent = (_) => {\r\n    if (!this.shouldDisplayAnimation) {\r\n      return;\r\n    }\r\n    this.secondaryMoverSystems.forEach(system => system.initiateDestruction());\r\n  }\r\n\r\n  handlePrimeMoverDestruction(primeMover) {\r\n    this.primeMovers.delete(primeMover.id);\r\n    primeMover = null;\r\n  }\r\n\r\n  handleSecondaryMoverSystemDestruction(system) {\r\n    this.secondaryMoverSystems.delete(system.id);\r\n    system = null;\r\n  }\r\n\r\n  displaySpectrum() {\r\n    const fftBuffer = this.audioContext.getFftBuffer();\r\n    if (fftBuffer === null || fftBuffer.length === 0) {\r\n      return\r\n    }\r\n    const {width, height} = this.myP5;\r\n    const fftSize = fftBuffer.length;\r\n    this.myP5.noStroke();\r\n    this.myP5.fill(255,255,255,40);\r\n    let w = width / fftSize;\r\n    for (let i = 0; i < fftSize; i++) {\r\n      let index = Math.floor(rangeMap(i, 0, fftSize, 0, width));\r\n      this.myP5.rect(index, height - (rangeMap(fftBuffer[i], -120, 0, 0, height)), w, height, 20);\r\n    }\r\n  }\r\n\r\n  displayWaveform() {\r\n    const fftBuffer = this.audioContext.getFftBuffer();\r\n    if (fftBuffer === null || fftBuffer.length === 0) {\r\n      return\r\n    }\r\n    const {width, height} = this.myP5;\r\n    const fftSize = fftBuffer.length;\r\n    this.myP5.stroke(255);\r\n    this.myP5.strokeWeight(1);\r\n    this.myP5.beginShape();\r\n    this.myP5.fill(255, 255, 255, 80);\r\n    for (let i = 0; i < fftSize; i++) {\r\n      let index = Math.floor(rangeMap(i, 0, fftSize, 0, width));\r\n      this.myP5.vertex(index, height/2 + (rangeMap(fftBuffer[i], -1, 1, -height, height)));\r\n    }\r\n    this.myP5.endShape();\r\n  }\r\n\r\n  setAudioContext(audioContext) {\r\n    this.audioContext = audioContext;\r\n  }\r\n\r\n  setDisplayAnimation(value) {\r\n    this.shouldDisplayAnimation = value;\r\n  }\r\n\r\n  setDisplaySpectrum(value) {\r\n    this.shouldDisplaySpectrum = value;\r\n  }\r\n\r\n  setAnimationSpeed(value) {\r\n    this.moverProperties.animationSpeed = value;\r\n  }\r\n}\r\n\r\nexport default GraphicsContext;","import React, {Component} from 'react';\nimport GradientBackground from \"./components/layout/GradientBackground\";\nimport './styles/layout/GradientBackground.module.css'\nimport GraphicsCanvas from \"./components/layout/GraphicsCanvas\";\nimport MainLayout from \"./components/layout/MainLayout\";\nimport AudioContext from \"./components/audio/AudioContext\";\nimport AudioCanvas from \"./components/layout/AudioCanvas\";\nimport GraphicsContext from \"./components/graphics/GraphicsContext\";\n\nclass App extends Component {\n\n  constructor() {\n    super();\n    this.audioContext = new AudioContext();\n    this.graphicsContext = new GraphicsContext();\n    this.graphicsContext.setAudioContext(this.audioContext);\n\n  }\n  render() {\n    return (\n      <>\n        <AudioCanvas audioContext={this.audioContext}/>\n        <GraphicsCanvas graphicsContext={this.graphicsContext}/>\n        <GradientBackground/>\n        <MainLayout audioContext={this.audioContext} graphicsContext={this.graphicsContext}/>\n      </>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <App />\n  ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sliderDrawer\":\"Drawer_sliderDrawer__Kk8bO\",\"sliderContainer\":\"Drawer_sliderContainer__1eL8v\",\"sliderLabel\":\"Drawer_sliderLabel__HMnml\",\"sliderPagination\":\"Drawer_sliderPagination__3fxG4\",\"relativeBox\":\"Drawer_relativeBox__11ZmI\",\"drawerHandleTop\":\"Drawer_drawerHandleTop__1VpNB\",\"drawerHandleBottom\":\"Drawer_drawerHandleBottom__2T_0a\",\"bottomDrawer\":\"Drawer_bottomDrawer__2m7uT\",\"bottomDrawerSliderSection\":\"Drawer_bottomDrawerSliderSection__2UCan\",\"bottomDrawerSliderAndLabelGroup\":\"Drawer_bottomDrawerSliderAndLabelGroup__eIFDx\",\"textDeclaration\":\"Drawer_textDeclaration__2jYt_\",\"bottomDrawerSwitches\":\"Drawer_bottomDrawerSwitches__1TTsN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"snackbarLayout\":\"MainLayout_snackbarLayout__347DF\",\"splashScreen\":\"MainLayout_splashScreen__1nveC\",\"splashScreenIconGrid\":\"MainLayout_splashScreenIconGrid__3x-nh\",\"splashScreenIconGridFlexbox\":\"MainLayout_splashScreenIconGridFlexbox__22Py1\",\"splashScreenIconsHorizontal\":\"MainLayout_splashScreenIconsHorizontal__ifxLt\",\"splashScreenTitle\":\"MainLayout_splashScreenTitle__3j6zu\",\"notesInfoSection\":\"MainLayout_notesInfoSection__1S99L\",\"topDrawerExpanderCue\":\"MainLayout_topDrawerExpanderCue__1Kzxs\",\"bottomDrawerExpanderCue\":\"MainLayout_bottomDrawerExpanderCue__1_jpC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gradientBackground\":\"GradientBackground_gradientBackground__2-Fo7\",\"gradient\":\"GradientBackground_gradient__mofCM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sketch\":\"ProcessingSketch_sketch__cS6Hq\"};"],"sourceRoot":""}